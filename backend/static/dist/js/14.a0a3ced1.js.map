{"version":3,"file":"js/14.a0a3ced1.js","mappings":"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","sources":["webpack://frontend/./src/views/ConsultaInventario.vue","webpack://frontend/./src/views/ConsultaInventario.vue?7dda","webpack://frontend/./node_modules/core-js/modules/es.iterator.flat-map.js","webpack://frontend/./node_modules/core-js/internals/get-iterator-flattenable.js"],"sourcesContent":["<template>\r\n  <div class=\"consulta-inventario\">\r\n    <h1>Consulta de Inventario</h1>\r\n\r\n    <section class=\"form-section\">\r\n      <div class=\"form-actions\" style=\"justify-content: flex-end\">\r\n          <button @click=\"limpiarPagina\" class=\"btn btn-warning\">Limpiar Página</button>\r\n          \r\n      </div>\r\n\r\n      <!-- Filtros de búsqueda -->\r\n      <div class=\"form-group\">\r\n        <label for=\"nombreFiltro\">Buscar por nombre:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"nombreFiltro\"\r\n          v-model=\"nombreDigitado\"\r\n          placeholder=\"Ingrese nombre del producto\"\r\n          @input=\"sincronizarPorNombre\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"codigoFiltro\">Buscar por código:</label>\r\n        <input\r\n          v-model=\"codigoDigitado\"\r\n          id=\"codigoFiltro\"\r\n          placeholder=\"Ingrese código de producto\"\r\n          @input=\"sincronizarCodigoConSelector\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"productoSelector\">Seleccione un producto:</label>\r\n        <select v-model=\"filtroProducto\" id=\"productoSelector\" @change=\"sincronizarSelectorConCodigo\">\r\n          <option value=\"\">Todos</option>\r\n          <option v-for=\"producto in productosDisponibles\" :key=\"producto.codigo\" :value=\"producto.codigo\">\r\n            {{ producto.codigo }} - {{ producto.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"filtroEstado\">Filtrar por Estado:</label>\r\n        <select v-model=\"filtroEstado\" id=\"filtroEstado\" @change=\"consultar\">\r\n          <option value=\"\">Todos</option>\r\n          <option value=\"verde\">Verde (OK)</option>\r\n          <option value=\"amarillo\">Amarillo (Advertencia)</option>\r\n          <option value=\"rojo\">Rojo (Crítico)</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-actions\">\r\n        <button @click=\"consultar\" class=\"btn\">Consultar Inventario</button>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Filtros adicionales para consulta general -->\r\n    <section v-if=\"mostrarInventario && filtroProducto === '' && codigoDigitado === '' && nombreDigitado === ''\" class=\"form-section\">\r\n      <div class=\"form-group\">\r\n        <label for=\"filtroBodega\">Filtrar por bodega:</label>\r\n        <select v-model=\"filtroBodega\" id=\"filtroBodega\" @change=\"filtrarPorBodega\">\r\n          <option value=\"\">Todas</option>\r\n          <option v-for=\"bodega in bodegas\" :key=\"bodega\" :value=\"bodega\">{{ bodega }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"umbralAlerta\">Umbral de Alerta (%):</label>\r\n        <input v-model.number=\"umbralAlerta\" id=\"umbralAlerta\" type=\"number\" min=\"0\" max=\"100\" step=\"1\" />\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Resumen de Costos -->\r\n    <section v-if=\"mostrarInventario && filtroProducto === '' && codigoDigitado === '' && nombreDigitado === ''\" class=\"form-section\">\r\n      <h2>Resumen de Costos por Almacén</h2>\r\n      <div class=\"table-container\">\r\n        <table class=\"resumen-costos\">\r\n          <thead>\r\n            <tr>\r\n              <th>Almacén</th>\r\n              <th>Costo Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(costo, bodega) in resumenCostos\" :key=\"bodega\">\r\n              <td>{{ bodega }}</td>\r\n              <td>${{ formatCosto(costo) }}</td>\r\n            </tr>\r\n            <tr class=\"total-row\">\r\n              <td><strong>TOTAL</strong></td>\r\n              <td><strong>${{ formatCosto(Object.values(resumenCostos).reduce((sum, costo) => sum + costo, 0)) }}</strong></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Tabla de Inventario -->\r\n    <section v-if=\"mostrarInventario\">\r\n      <h2>Inventario de Productos</h2>\r\n      <div class=\"form-actions\">\r\n        <button v-if=\"productosFiltrados.length\" @click=\"exportarAExcel\" class=\"btn\">\r\n          Exportar a Excel <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" />\r\n        </button>\r\n      </div>\r\n      <div class=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Código</th>\r\n              <th>Nombre</th>\r\n              <th>Stock Mínimo</th>\r\n              <th>Total</th>\r\n              <th>Estado</th>\r\n              <template v-for=\"bodega in bodegasMostradas\" :key=\"bodega\">\r\n                <th>{{ bodega }}</th>\r\n                <th>Costo Total {{ bodega }}</th>\r\n              </template>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"producto in productosFiltrados\" :key=\"producto.codigo\">\r\n              <td>{{ producto.codigo }}</td>\r\n              <td>{{ producto.nombre }}</td>\r\n              <td>{{ producto.stock_minimo !== null ? producto.stock_minimo : '-' }}</td>\r\n              <td>{{ producto.cantidad_total || 0 }}</td>\r\n              <td>\r\n                <span v-if=\"producto.stock_minimo !== null && producto.stock_minimo !== undefined\">\r\n                  <span v-if=\"Number(producto.cantidad_total) > Number(producto.stock_minimo) * (1 + Number(umbralAlerta) / 100)\" class=\"estado verde\">✔</span>\r\n                  <span v-else-if=\"Number(producto.cantidad_total) > Number(producto.stock_minimo)\" class=\"estado amarillo\">⚠</span>\r\n                  <span v-else class=\"estado rojo\">✖</span>\r\n                </span>\r\n                <span v-else>-</span>\r\n              </td>\r\n              <template v-for=\"bodega in bodegasMostradas\" :key=\"bodega\">\r\n                <td>{{ producto.cantidades_por_bodega[bodega] || 0 }}</td>\r\n                <td>${{ formatCosto(producto.costos_por_bodega[bodega] || 0) }}</td>\r\n              </template>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div v-if=\"filtroProducto === '' && codigoDigitado === '' && nombreDigitado === ''\" class=\"paginacion\">\r\n        <button :disabled=\"paginaActual === 1\" @click=\"cambiarPagina(paginaActual - 1)\" class=\"btn\">Anterior</button>\r\n        <span>Página {{ paginaActual }}</span>\r\n        <button :disabled=\"productosFiltrados.length < limite\" @click=\"cambiarPagina(paginaActual + 1)\" class=\"btn\">Siguiente</button>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from '@/api/axios';\r\nimport * as XLSX from \"xlsx\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\n\r\nexport default {\r\n  name: \"ConsultaInventario\",\r\n  components: { FontAwesomeIcon },\r\n  data() {\r\n    return {\r\n      filtroProducto: \"\",\r\n      codigoDigitado: \"\",\r\n      nombreDigitado: \"\",\r\n      productosDisponibles: [],\r\n      productos: [],\r\n      productosFiltrados: [],\r\n      bodegas: [],\r\n      bodegasMostradas: [],\r\n      filtroBodega: \"\",\r\n      filtroEstado: \"\",\r\n      mostrarInventario: false,\r\n      paginaActual: 1,\r\n      limite: 20,\r\n      todosLosProductos: [],\r\n      umbralAlerta: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    resumenCostos() {\r\n      const resumen = {};\r\n      this.bodegas.forEach((bodega) => {\r\n        resumen[bodega] = this.todosLosProductos.reduce((total, producto) => {\r\n          return total + (producto.costos_por_bodega[bodega] || 0);\r\n        }, 0);\r\n      });\r\n      return resumen;\r\n    },\r\n  },\r\n  methods: {\r\n    limpiarPagina() {\r\n      this.codigoDigitado = \"\";\r\n      this.nombreDigitado = \"\";\r\n      this.filtroProducto = \"\";\r\n      this.filtroBodega = \"\";\r\n      this.filtroEstado = \"\";\r\n      this.productos = [];\r\n      this.productosFiltrados = [];\r\n      this.bodegas = [];\r\n      this.bodegasMostradas = [];\r\n      this.mostrarInventario = false;\r\n      this.paginaActual = 1;\r\n      this.todosLosProductos = [];\r\n      this.umbralAlerta = 10;\r\n    },\r\n    async consultar() {\r\n      if (this.filtroProducto || this.codigoDigitado || this.nombreDigitado) {\r\n        await this.consultarProductoEspecifico();\r\n        if (this.filtroEstado) {\r\n          this.filtrarPorEstado();\r\n        }\r\n      } else {\r\n        await this.consultarTodosLosProductos();\r\n        if (this.filtroEstado) {\r\n          this.filtrarPorEstado();\r\n        }\r\n      }\r\n    },\r\n    async consultarProductoEspecifico() {\r\n      try {\r\n        const codigo = this.filtroProducto || this.codigoDigitado;\r\n        let url = \"\";\r\n        if (codigo) {\r\n          url = `/api/inventario-con-costos/${codigo}`;\r\n        } else if (this.nombreDigitado) {\r\n          url = `/api/inventario-con-costos?nombre=${encodeURIComponent(this.nombreDigitado)}&limit=999999`;\r\n        } else {\r\n          alert('Por favor, ingrese un código o nombre de producto.');\r\n          this.mostrarInventario = false;\r\n          this.productos = [];\r\n          this.bodegas = [];\r\n          this.productosFiltrados = [];\r\n          return;\r\n        }\r\n\r\n        const response = await apiClient.get(url);\r\n        const data = response.data;\r\n\r\n        if (data.message) {\r\n          alert(data.message);\r\n          this.mostrarInventario = false;\r\n          this.productos = [];\r\n          this.bodegas = [];\r\n          this.productosFiltrados = [];\r\n          return;\r\n        }\r\n\r\n        const bodegasResponse = await apiClient.get(\"/inventory/bodegas\");\r\n        const todasLasBodegas = bodegasResponse.data.map((b) => b.nombre);\r\n\r\n        this.bodegas = todasLasBodegas;\r\n        this.bodegasMostradas = todasLasBodegas;\r\n\r\n        if (data.producto) {\r\n          const inventario = data.inventario || [];\r\n          this.productos = [\r\n            {\r\n              codigo: data.producto.codigo,\r\n              nombre: data.producto.nombre,\r\n              cantidad_total: inventario.reduce((total, item) => {\r\n                const cantidad = Number(item.cantidad) || 0;\r\n                return total + cantidad;\r\n              }, 0),\r\n              stock_minimo: data.producto.stock_minimo !== null ? Number(data.producto.stock_minimo) : null,\r\n              cantidades_por_bodega: todasLasBodegas.reduce((acc, bodega) => {\r\n                const item = inventario.find((i) => i.bodega === bodega);\r\n                acc[bodega] = item ? Number(item.cantidad) || 0 : 0;\r\n                return acc;\r\n              }, {}),\r\n              costos_por_bodega: todasLasBodegas.reduce((acc, bodega) => {\r\n                const item = inventario.find((i) => i.bodega === bodega);\r\n                acc[bodega] = item ? Number(item.costo_total) || 0 : 0;\r\n                return acc;\r\n              }, {})\r\n            }\r\n          ];\r\n        } else if (data.productos) {\r\n          this.productos = data.productos\r\n            .sort((a, b) => a.codigo.localeCompare(b.codigo))\r\n            .map((producto) => ({\r\n              codigo: producto.codigo,\r\n              nombre: producto.nombre,\r\n              cantidad_total: Number(producto.cantidad_total) || 0,\r\n              stock_minimo: producto.stock_minimo !== null ? Number(producto.stock_minimo) : null,\r\n              cantidades_por_bodega: { ...producto.cantidades_por_bodega },\r\n              costos_por_bodega: { ...producto.costos_por_bodega }\r\n            }));\r\n        } else {\r\n          alert('No se encontraron datos para el producto especificado.');\r\n          this.productos = [];\r\n          this.productosFiltrados = [];\r\n          this.mostrarInventario = false;\r\n          return;\r\n        }\r\n\r\n        this.productosFiltrados = [...this.productos];\r\n        this.mostrarInventario = true;\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.response?.data?.message || error.message;\r\n        alert(`Error al consultar el inventario: ${errorMsg}`);\r\n        this.mostrarInventario = false;\r\n        this.productos = [];\r\n        this.productosFiltrados = [];\r\n      }\r\n    },\r\n    async consultarTodosLosProductos() {\r\n      try {\r\n        const fullResponse = await apiClient.get(\"/api/inventario-con-costos?limit=999999\");\r\n        const { productos, bodegas } = fullResponse.data;\r\n\r\n        if (!productos || productos.length === 0) {\r\n          alert(\"No se encontró información en el inventario.\");\r\n          this.mostrarInventario = false;\r\n          this.bodegas = [];\r\n          this.productos = [];\r\n          this.productosFiltrados = [];\r\n          this.todosLosProductos = [];\r\n          return;\r\n        }\r\n\r\n        this.bodegas = bodegas || [];\r\n        this.bodegasMostradas = [...this.bodegas];\r\n\r\n        this.todosLosProductos = productos\r\n          .sort((a, b) => a.codigo.localeCompare(b.codigo))\r\n          .map((producto) => ({\r\n            codigo: producto.codigo,\r\n            nombre: producto.nombre,\r\n            cantidad_total: Number(producto.cantidad_total) || 0,\r\n            stock_minimo: producto.stock_minimo !== null ? Number(producto.stock_minimo) : null,\r\n            cantidades_por_bodega: { ...producto.cantidades_por_bodega },\r\n            costos_por_bodega: { ...producto.costos_por_bodega }\r\n          }));\r\n\r\n        const offset = (this.paginaActual - 1) * this.limite;\r\n        this.productos = this.todosLosProductos.slice(offset, offset + this.limite);\r\n        this.productosFiltrados = [...this.productos];\r\n        this.mostrarInventario = true;\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.response?.data?.message || error.message;\r\n        alert(`Error al consultar el inventario general: ${errorMsg}`);\r\n      }\r\n    },\r\n    filtrarPorBodega() {\r\n      if (this.filtroBodega) {\r\n        this.bodegasMostradas = [this.filtroBodega];\r\n        this.productosFiltrados = this.todosLosProductos\r\n          .filter((producto) => (producto.cantidades_por_bodega[this.filtroBodega] || 0) > 0)\r\n          .slice((this.paginaActual - 1) * this.limite, this.paginaActual * this.limite);\r\n      } else {\r\n        this.bodegasMostradas = [...this.bodegas];\r\n        this.productosFiltrados = this.todosLosProductos.slice(\r\n          (this.paginaActual - 1) * this.limite,\r\n          this.paginaActual * this.limite\r\n        );\r\n      }\r\n    },\r\n    filtrarPorEstado() {\r\n      if (!this.filtroEstado) {\r\n        if (this.filtroProducto || this.codigoDigitado || this.nombreDigitado) {\r\n          return;\r\n        }\r\n        this.productosFiltrados = this.todosLosProductos.slice(\r\n          (this.paginaActual - 1) * this.limite,\r\n          this.paginaActual * this.limite\r\n        );\r\n      } else {\r\n        const source = (this.filtroProducto || this.codigoDigitado || this.nombreDigitado)\r\n          ? this.productos\r\n          : this.todosLosProductos;\r\n        this.productosFiltrados = source.filter((producto) => {\r\n          if (producto.stock_minimo === null || producto.stock_minimo === undefined) {\r\n            return false;\r\n          }\r\n          const umbral = Math.ceil(Number(producto.stock_minimo) * (Number(this.umbralAlerta) / 100));\r\n          const diff = Number(producto.cantidad_total) - Number(producto.stock_minimo);\r\n          if (this.filtroEstado === \"verde\") return diff > umbral;\r\n          if (this.filtroEstado === \"amarillo\") return diff <= umbral && diff > 0;\r\n          if (this.filtroEstado === \"rojo\") return diff <= 0;\r\n          return false;\r\n        });\r\n        if (!(this.filtroProducto || this.codigoDigitado || this.nombreDigitado)) {\r\n          this.productosFiltrados = this.productosFiltrados.slice(\r\n            (this.paginaActual - 1) * this.limite,\r\n            this.paginaActual * this.limite\r\n          );\r\n        }\r\n      }\r\n    },\r\n    async cargarProductosDisponibles() {\r\n      try {\r\n        const response = await apiClient.get(\"/api/productos/completos\");\r\n        this.productosDisponibles = response.data.sort((a, b) => a.codigo.localeCompare(b.codigo));\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.response?.data?.message || error.message;\r\n        alert(`Error al cargar productos disponibles: ${errorMsg}`);\r\n      }\r\n    },\r\n    cambiarPagina(nuevaPagina) {\r\n      this.paginaActual = nuevaPagina;\r\n      const offset = (this.paginaActual - 1) * this.limite;\r\n      this.productos = this.todosLosProductos.slice(offset, offset + this.limite);\r\n      this.productosFiltrados = [...this.productos];\r\n    },\r\n    sincronizarPorNombre() {\r\n      if (!this.nombreDigitado) {\r\n        this.filtroProducto = \"\";\r\n        this.codigoDigitado = \"\";\r\n        return;\r\n      }\r\n      const productoEncontrado = this.productosDisponibles.find((p) =>\r\n        p.nombre.toLowerCase().includes(this.nombreDigitado.toLowerCase())\r\n      );\r\n      if (productoEncontrado) {\r\n        this.filtroProducto = productoEncontrado.codigo;\r\n        this.codigoDigitado = productoEncontrado.codigo;\r\n      }\r\n    },\r\n    sincronizarCodigoConSelector() {\r\n      if (!this.codigoDigitado) {\r\n        this.filtroProducto = \"\";\r\n        this.nombreDigitado = \"\";\r\n        return;\r\n      }\r\n      const productoEncontrado = this.productosDisponibles.find((p) =>\r\n        p.codigo.toLowerCase() === this.codigoDigitado.toLowerCase()\r\n      );\r\n      if (productoEncontrado) {\r\n        this.filtroProducto = productoEncontrado.codigo;\r\n        this.nombreDigitado = productoEncontrado.nombre;\r\n      }\r\n    },\r\n    sincronizarSelectorConCodigo() {\r\n      if (!this.filtroProducto) {\r\n        this.codigoDigitado = \"\";\r\n        this.nombreDigitado = \"\";\r\n        return;\r\n      }\r\n      const productoSeleccionado = this.productosDisponibles.find((p) => p.codigo === this.filtroProducto);\r\n      if (productoSeleccionado) {\r\n        this.codigoDigitado = productoSeleccionado.codigo;\r\n        this.nombreDigitado = productoSeleccionado.nombre;\r\n      }\r\n    },\r\n    formatCosto(costo) {\r\n      return Number(costo).toLocaleString(\"es-CO\", { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n    },\r\n    exportarAExcel() {\r\n      const dataToExport = this.filtroProducto || this.codigoDigitado || this.nombreDigitado\r\n        ? this.productosFiltrados\r\n        : this.todosLosProductos;\r\n\r\n      let worksheetData = [];\r\n\r\n      if (!this.filtroProducto && !this.codigoDigitado && !this.nombreDigitado) {\r\n        worksheetData = [\r\n          [\"Resumen de Costos por Almacén\"],\r\n          [\"Almacén\", \"Costo Total\"],\r\n          ...Object.entries(this.resumenCostos).map(([bodega, costo]) => [bodega, costo]),\r\n          [\"TOTAL\", Object.values(this.resumenCostos).reduce((sum, costo) => sum + costo, 0)],\r\n          [\"\"]\r\n        ];\r\n      }\r\n\r\n      const getEstado = (producto) => {\r\n        if (producto.stock_minimo === null || producto.stock_minimo === undefined) {\r\n          return \"-\";\r\n        }\r\n        const cantidadTotal = Number(producto.cantidad_total);\r\n        const stockMinimo = Number(producto.stock_minimo);\r\n        const umbral = Math.ceil(stockMinimo * (Number(this.umbralAlerta) / 100));\r\n        if (cantidadTotal > stockMinimo + umbral) {\r\n          return \"✔\";\r\n        } else if (cantidadTotal > stockMinimo) {\r\n          return \"⚠\";\r\n        } else {\r\n          return \"✖\";\r\n        }\r\n      };\r\n\r\n      worksheetData.push(\r\n        [\"Inventario de Productos\"],\r\n        [\"Código\", \"Nombre\", \"Stock Mínimo\", \"Total\", \"Estado\", ...this.bodegas.flatMap((bodega) => [bodega, `Costo Total ${bodega}`])],\r\n        ...dataToExport.map((producto) => [\r\n          producto.codigo,\r\n          producto.nombre,\r\n          producto.stock_minimo !== null ? producto.stock_minimo : \"-\",\r\n          producto.cantidad_total,\r\n          getEstado(producto),\r\n          ...this.bodegas.flatMap((bodega) => [\r\n            producto.cantidades_por_bodega[bodega] || 0,\r\n            producto.costos_por_bodega[bodega] || 0\r\n          ])\r\n        ])\r\n      );\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, \"Inventario\");\r\n      XLSX.writeFile(workbook, `inventario_${new Date().toISOString().slice(0, 10)}.xlsx`);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.cargarProductosDisponibles();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.consulta-inventario {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\nbutton,\r\n.btn {\r\n  padding: 8px 16px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\nbutton:hover,\r\n.btn:hover {\r\n  background-color: #2c3e50;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n  color: #333;\r\n}\r\n\r\n.btn-warning:hover {\r\n  background-color: #e0a800;\r\n}\r\n\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n}\r\n\r\n.form-group input,\r\n.form-group select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-container {\r\n  max-width: 100%;\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n  color: #34495e;\r\n}\r\n\r\ntbody tr:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.resumen-costos {\r\n  width: 50%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.resumen-costos th,\r\n.resumen-costos td {\r\n  padding: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.total-row {\r\n  font-weight: bold;\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.estado.verde {\r\n  color: green;\r\n  font-size: 18px;\r\n}\r\n\r\n.estado.amarillo {\r\n  color: #ffc107;\r\n  font-size: 18px;\r\n}\r\n\r\n.estado.rojo {\r\n  color: red;\r\n  font-size: 18px;\r\n}\r\n\r\n.excel-icon {\r\n  margin-left: 5px;\r\n}\r\n\r\n.paginacion {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10px;\r\n}\r\n\r\n.paginacion button {\r\n  padding: 8px 16px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .form-group input,\r\n  .form-group select {\r\n    font-size: 16px;\r\n  }\r\n\r\n  table {\r\n    display: block;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .resumen-costos {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./ConsultaInventario.vue?vue&type=template&id=e30c5e24&scoped=true\"\nimport script from \"./ConsultaInventario.vue?vue&type=script&lang=js\"\nexport * from \"./ConsultaInventario.vue?vue&type=script&lang=js\"\n\nimport \"./ConsultaInventario.vue?vue&type=style&index=0&id=e30c5e24&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e30c5e24\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorFlattenable = require('../internals/get-iterator-flattenable');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar iteratorClose = require('../internals/iterator-close');\nvar IS_PURE = require('../internals/is-pure');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var mapper = this.mapper;\n  var result, inner;\n\n  while (true) {\n    if (inner = this.inner) try {\n      result = anObject(call(inner.next, inner.iterator));\n      if (!result.done) return result.value;\n      this.inner = null;\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n\n    result = anObject(call(this.next, iterator));\n\n    if (this.done = !!result.done) return;\n\n    try {\n      this.inner = getIteratorFlattenable(mapper(result.value, this.counter++), false);\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n  }\n});\n\n// `Iterator.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.flatmap\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  flatMap: function flatMap(mapper) {\n    anObject(this);\n    aCallable(mapper);\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper,\n      inner: null\n    });\n  }\n});\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (obj, stringHandling) {\n  if (!stringHandling || typeof obj !== 'string') anObject(obj);\n  var method = getIteratorMethod(obj);\n  return getIteratorDirect(anObject(method !== undefined ? call(method, obj) : obj));\n};\n"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","limpiarPagina","_hoisted_4","for","type","id","$event","$data","nombreDigitado","placeholder","onInput","sincronizarPorNombre","_hoisted_5","codigoDigitado","sincronizarCodigoConSelector","_hoisted_6","filtroProducto","onChange","sincronizarSelectorConCodigo","value","_Fragment","_renderList","productosDisponibles","producto","codigo","_toDisplayString","nombre","_hoisted_7","_hoisted_8","filtroEstado","consultar","_hoisted_9","mostrarInventario","_hoisted_10","_hoisted_11","filtroBodega","filtrarPorBodega","bodegas","bodega","_hoisted_12","_hoisted_13","umbralAlerta","min","max","step","number","_createCommentVNode","_hoisted_14","_hoisted_15","_hoisted_16","resumenCostos","costo","formatCosto","_hoisted_17","Object","values","reduce","sum","_hoisted_18","_hoisted_19","productosFiltrados","length","exportarAExcel","_createTextVNode","_createVNode","_component_font_awesome_icon","icon","_hoisted_20","bodegasMostradas","stock_minimo","cantidad_total","undefined","_hoisted_21","Number","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","cantidades_por_bodega","costos_por_bodega","_hoisted_26","disabled","paginaActual","cambiarPagina","_hoisted_27","limite","_hoisted_28","name","components","FontAwesomeIcon","data","productos","todosLosProductos","computed","resumen","this","forEach","total","methods","consultarProductoEspecifico","filtrarPorEstado","consultarTodosLosProductos","url","alert","encodeURIComponent","response","apiClient","get","message","bodegasResponse","todasLasBodegas","map","b","inventario","item","cantidad","acc","find","i","costo_total","sort","a","localeCompare","error","errorMsg","fullResponse","offset","slice","filter","source","umbral","Math","ceil","diff","cargarProductosDisponibles","nuevaPagina","productoEncontrado","p","toLowerCase","includes","productoSeleccionado","toLocaleString","minimumFractionDigits","maximumFractionDigits","dataToExport","worksheetData","entries","getEstado","cantidadTotal","stockMinimo","push","flatMap","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","Date","toISOString","mounted","__exports__","render","$","call","aCallable","anObject","getIteratorDirect","getIteratorFlattenable","createIteratorProxy","iteratorClose","IS_PURE","IteratorProxy","result","inner","iterator","mapper","next","done","counter","target","proto","real","forced","getIteratorMethod","module","exports","obj","stringHandling","method"],"sourceRoot":""}