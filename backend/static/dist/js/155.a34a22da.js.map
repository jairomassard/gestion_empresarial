{"version":3,"file":"js/155.a34a22da.js","mappings":"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","sources":["webpack://frontend/./src/views/CargarVentasManual.vue","webpack://frontend/./src/views/CargarVentasManual.vue?3289"],"sourcesContent":["<template>\r\n    <div class=\"cargar-ventas\">\r\n      <h1>Cargar Ventas Manualmente</h1>\r\n  \r\n      <section class=\"menu-buttons\">\r\n        <!-- <button @click=\"volverAlMenu\" class=\"btn btn-secondary\">Volver al Menú</button> -->\r\n        <button @click=\"limpiarPagina\" class=\"btn btn-warning\">Limpiar Página</button>\r\n      </section>\r\n  \r\n      <!-- Subida de Archivo CSV -->\r\n      <section class=\"form-section\">\r\n        <h2>Subir Archivo CSV</h2>\r\n        <div class=\"form-group\">\r\n          <label for=\"inputCsv\">Archivo CSV:</label>\r\n          <input id=\"inputCsv\" type=\"file\" @change=\"cargarCsv\" ref=\"inputCsv\" />\r\n        </div>\r\n        <button @click=\"procesarCsv\">Cargar Ventas</button>\r\n      </section>\r\n  \r\n      <!-- Mostrar errores -->\r\n      <section v-if=\"errores.length\" class=\"form-section\">\r\n        <h2>Errores Detectados:</h2>\r\n        <ul>\r\n          <li v-for=\"(error, index) in errores\" :key=\"index\">{{ error }}</li>\r\n        </ul>\r\n      </section>\r\n  \r\n      <!-- Descarga de Plantilla -->\r\n      <section class=\"form-section\">\r\n        <h2>Descargar Plantilla</h2>\r\n        <button @click=\"descargarPlantilla\">Descargar</button>\r\n      </section>\r\n  \r\n      <!-- Consulta de Facturas de Venta -->\r\n      <section class=\"consulta-ventas form-section\">\r\n        <h2>Consulta de Facturas de Venta</h2>\r\n        <div class=\"form-group\">\r\n          <label for=\"filtroFactura\">Número de Factura:</label>\r\n          <input v-model=\"filtroFactura\" id=\"filtroFactura\" placeholder=\"Ingrese número de factura\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"fechaInicio\">Fecha Inicio:</label>\r\n          <input type=\"date\" v-model=\"fechaInicio\" id=\"fechaInicio\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"fechaFin\">Fecha Fin:</label>\r\n          <input type=\"date\" v-model=\"fechaFin\" id=\"fechaFin\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"filtroBodega\">Bodega de Venta:</label>\r\n          <select v-model=\"filtroBodega\" id=\"filtroBodega\">\r\n            <option value=\"\" disabled>Seleccione una bodega</option>\r\n            <option v-for=\"bodega in bodegas\" :key=\"bodega.id\" :value=\"bodega.id\">{{ bodega.nombre }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"selectorFactura\">Seleccionar Factura:</label>\r\n          <select v-model=\"filtroFactura\" id=\"selectorFactura\">\r\n            <option value=\"\" disabled>Seleccione una factura</option>\r\n            <option v-for=\"factura in facturas\" :key=\"factura\" :value=\"factura\">{{ factura }}</option>\r\n          </select>\r\n        </div>\r\n        <button @click=\"consultarVentas\">Consultar Facturas</button>\r\n      </section>\r\n  \r\n      <!-- Resultados de la Consulta -->\r\n      <section v-if=\"resultadosVentas.length\" class=\"resultados-ventas form-section\">\r\n        <h3>Resultados de la Consulta</h3>\r\n        <div class=\"form-actions\">\r\n          <button @click=\"exportarListadoExcel\">Exportar Listado <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" /></button>\r\n        </div>\r\n        <div class=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Número de Factura</th>\r\n                <th>Fecha y Hora</th>\r\n                <th>Acción</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"venta in resultadosVentas\" :key=\"venta.factura\">\r\n                <td>{{ venta.factura }}</td>\r\n                <td>{{ venta.fecha }}</td>\r\n                <td>\r\n                  <button @click=\"verDetalleVenta(venta.factura)\" class=\"btn btn-info\">Detalle</button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n  \r\n      <!-- Detalle de la Factura de Venta -->\r\n      <section v-if=\"detalleVenta.length\" class=\"detalle-venta form-section\">\r\n        <h3>Detalle de la Factura de Venta {{ facturaSeleccionada }}</h3>\r\n        <div class=\"form-actions\">\r\n          <button @click=\"exportarDetalleExcel\">Exportar <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" /></button>\r\n        </div>\r\n        <div class=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Código</th>\r\n                <th>Nombre</th>\r\n                <th>Cantidad</th>\r\n                <th>Bodega de Venta</th>\r\n                <th>Precio Unitario</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item in detalleVenta\" :key=\"item.id\">\r\n                <td>{{ item.codigo }}</td>\r\n                <td>{{ item.nombre }}</td>\r\n                <td>{{ item.cantidad }}</td>\r\n                <td>{{ item.bodega }}</td>\r\n                <td>{{ item.precio_unitario !== null ? `$${item.precio_unitario.toFixed(2)}` : 'N/A' }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from '@/api/axios';\r\nimport * as XLSX from 'xlsx';\r\n\r\nexport default {\r\n  name: 'CargarVentasManual',\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const archivoCsv = ref(null);\r\n    const inputCsv = ref(null);\r\n    const errores = ref([]);\r\n    const filtroFactura = ref('');\r\n    const fechaInicio = ref('');\r\n    const fechaFin = ref('');\r\n    const filtroBodega = ref('');\r\n    const facturas = ref([]);\r\n    const bodegas = ref([]);\r\n    const resultadosVentas = ref([]);\r\n    const detalleVenta = ref([]);\r\n    const facturaSeleccionada = ref('');\r\n\r\n    const cargarCsv = (event) => {\r\n      archivoCsv.value = event.target.files[0];\r\n    };\r\n\r\n    const procesarCsv = async () => {\r\n      if (!archivoCsv.value) {\r\n        alert('Seleccione un archivo para cargar');\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append('file', archivoCsv.value);\r\n\r\n      try {\r\n        const response = await axios.post('/inventory/ventas', formData);\r\n        alert(response.data.message);\r\n        errores.value = [];\r\n        cargarFacturas();\r\n        limpiarSesionCsv();\r\n      } catch (error) {\r\n        console.error('Error al cargar ventas:', error);\r\n        if (error.response?.data?.errors) {\r\n          errores.value = error.response.data.errors;\r\n        } else {\r\n          alert('Ocurrió un error al cargar las ventas.');\r\n        }\r\n      }\r\n    };\r\n\r\n    const descargarPlantilla = () => {\r\n      const csvData = [\r\n        ['factura', 'codigo', 'nombre', 'cantidad', 'fecha_venta', 'bodega', 'precio_unitario'],\r\n        ['FB1234567', 'GRA05299901000000', 'R5 BULK PASTEL YELLOW', '10', '2025-04-05 10:00:00', 'Bodega1', '75.00'],\r\n        ['CC8901234', 'GRA05299909000000', 'R5 BULK PASTEL LIGTH PINK', '5', '2025-04-05 11:30:00', 'Bodega2', ''],\r\n      ];\r\n      const csvContent = csvData.map(e => e.join(',')).join('\\n');\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.setAttribute('download', 'plantilla_cargue_ventas.csv');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    };\r\n\r\n    const volverAlMenu = () => {\r\n      router.push('/inventory');\r\n    };\r\n\r\n    const limpiarSesionCsv = () => {\r\n      archivoCsv.value = null;\r\n      if (inputCsv.value) inputCsv.value.value = '';\r\n    };\r\n\r\n    const limpiarPagina = () => {\r\n      limpiarSesionCsv();\r\n      errores.value = [];\r\n      filtroFactura.value = '';\r\n      fechaInicio.value = '';\r\n      fechaFin.value = '';\r\n      filtroBodega.value = '';\r\n      resultadosVentas.value = [];\r\n      detalleVenta.value = [];\r\n      facturaSeleccionada.value = '';\r\n    };\r\n\r\n    const cargarFacturas = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/ventas-facturas');\r\n        facturas.value = response.data.facturas;\r\n      } catch (error) {\r\n        console.error('Error al cargar facturas:', error);\r\n        alert('Ocurrió un error al cargar las facturas.');\r\n      }\r\n    };\r\n\r\n    const cargarBodegas = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/bodegas');\r\n        bodegas.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error al cargar bodegas:', error);\r\n        alert('Ocurrió un error al cargar las bodegas.');\r\n      }\r\n    };\r\n\r\n    const consultarVentas = async () => {\r\n      try {\r\n        const params = {\r\n          factura: filtroFactura.value || undefined,\r\n          fecha_inicio: fechaInicio.value || undefined,\r\n          fecha_fin: fechaFin.value || undefined,\r\n          bodega_id: filtroBodega.value || undefined,\r\n        };\r\n        const response = await axios.get('/inventory/consultar-ventas', { params });\r\n        resultadosVentas.value = response.data;\r\n        detalleVenta.value = [];\r\n      } catch (error) {\r\n        console.error('Error al consultar facturas de venta:', error);\r\n        alert('Ocurrió un error al consultar las facturas.');\r\n      }\r\n    };\r\n\r\n    const verDetalleVenta = async (factura) => {\r\n      try {\r\n        facturaSeleccionada.value = factura;\r\n        const response = await axios.get('/inventory/detalle-venta', {\r\n          params: { factura }\r\n        });\r\n        detalleVenta.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error al obtener detalle de la factura:', error);\r\n        alert('No se pudo recuperar el detalle de la factura.');\r\n      }\r\n    };\r\n\r\n    const exportarListadoExcel = () => {\r\n      if (!resultadosVentas.value.length) {\r\n        alert('No hay datos para exportar a Excel.');\r\n        return;\r\n      }\r\n\r\n      const bodegaNombre = bodegas.value.find(b => b.id === filtroBodega.value)?.nombre || 'Todas';\r\n\r\n      const worksheetData = [\r\n        ['Resultado de consulta de Facturas de Ventas Cargadas'],\r\n        [`Número de Factura: ${filtroFactura.value || 'Todos'}`],\r\n        [`Fecha Inicio: ${fechaInicio.value || 'No especificada'}`],\r\n        [`Fecha Fin: ${fechaFin.value || 'No especificada'}`],\r\n        [`Bodega: ${bodegaNombre}`],\r\n        [],\r\n        ['Número de Factura', 'Fecha y Hora'],\r\n        ...resultadosVentas.value.map(venta => [venta.factura, venta.fecha])\r\n      ];\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Facturas');\r\n      XLSX.writeFile(workbook, `facturas_ventas_${new Date().toISOString().slice(0, 10)}.xlsx`);\r\n    };\r\n\r\n    const exportarDetalleExcel = () => {\r\n      if (!detalleVenta.value.length) {\r\n        alert('No hay datos para exportar a Excel.');\r\n        return;\r\n      }\r\n\r\n      const fechaCargue = resultadosVentas.value.find(v => v.factura === facturaSeleccionada.value)?.fecha || 'Desconocida';\r\n\r\n      const worksheetData = [\r\n        [`Detalle Factura ${facturaSeleccionada.value}`],\r\n        [`Fecha de Cargue: ${fechaCargue}`],\r\n        [],\r\n        ['Código', 'Nombre', 'Cantidad', 'Bodega de Venta', 'Precio Unitario'],\r\n        ...detalleVenta.value.map(item => [\r\n          item.codigo,\r\n          item.nombre,\r\n          item.cantidad,\r\n          item.bodega,\r\n          item.precio_unitario !== null ? item.precio_unitario.toFixed(2) : 'N/A'\r\n        ])\r\n      ];\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Detalle Factura');\r\n      XLSX.writeFile(workbook, `detalle_factura_${facturaSeleccionada.value}.xlsx`);\r\n    };\r\n\r\n    onMounted(() => {\r\n      cargarFacturas();\r\n      cargarBodegas();\r\n    });\r\n\r\n    return {\r\n      archivoCsv,\r\n      inputCsv,\r\n      errores,\r\n      filtroFactura,\r\n      fechaInicio,\r\n      fechaFin,\r\n      filtroBodega,\r\n      facturas,\r\n      bodegas,\r\n      resultadosVentas,\r\n      detalleVenta,\r\n      facturaSeleccionada,\r\n      cargarCsv,\r\n      procesarCsv,\r\n      descargarPlantilla,\r\n      volverAlMenu,\r\n      limpiarPagina,\r\n      cargarFacturas,\r\n      cargarBodegas,\r\n      consultarVentas,\r\n      verDetalleVenta,\r\n      exportarListadoExcel,\r\n      exportarDetalleExcel\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cargar-ventas {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.2rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.menu-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  justify-content: flex-end;\r\n}\r\n\r\nbutton, .btn {\r\n  padding: 8px 16px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\nbutton:hover, .btn:hover {\r\n  background-color: #2c3e50;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n  color: #333;\r\n}\r\n\r\n.btn-warning:hover {\r\n  background-color: #e0a800;\r\n}\r\n\r\n.btn-info {\r\n  background-color: #17a2b8;\r\n}\r\n\r\n.btn-info:hover {\r\n  background-color: #138496;\r\n}\r\n\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n}\r\n\r\n.form-group input, .form-group select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-container {\r\n  max-width: 100%;\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\nth, td {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n  color: #34495e;\r\n}\r\n\r\ntbody tr:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.excel-icon {\r\n  margin-left: 5px;\r\n}\r\n\r\nul {\r\n  margin-top: 10px;\r\n  padding-left: 20px;\r\n}\r\n\r\nli {\r\n  color: #555;\r\n  font-size: 14px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .menu-buttons {\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n  }\r\n\r\n  .form-group input, .form-group select {\r\n    font-size: 16px;\r\n  }\r\n\r\n  table {\r\n    display: block;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>","import { render } from \"./CargarVentasManual.vue?vue&type=template&id=7b92625d&scoped=true\"\nimport script from \"./CargarVentasManual.vue?vue&type=script&lang=js\"\nexport * from \"./CargarVentasManual.vue?vue&type=script&lang=js\"\n\nimport \"./CargarVentasManual.vue?vue&type=style&index=0&id=7b92625d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7b92625d\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$setup","limpiarPagina","_hoisted_3","_hoisted_4","for","id","type","onChange","cargarCsv","ref","procesarCsv","errores","length","_hoisted_5","_Fragment","_renderList","error","index","_toDisplayString","_createCommentVNode","_hoisted_6","descargarPlantilla","_hoisted_7","_hoisted_8","$event","filtroFactura","placeholder","_hoisted_9","fechaInicio","_hoisted_10","fechaFin","_hoisted_11","filtroBodega","value","disabled","bodegas","bodega","nombre","_hoisted_12","_hoisted_13","facturas","factura","_hoisted_14","consultarVentas","resultadosVentas","_hoisted_15","_hoisted_16","exportarListadoExcel","_createTextVNode","_createVNode","_component_font_awesome_icon","icon","_hoisted_17","venta","fecha","verDetalleVenta","_hoisted_18","detalleVenta","_hoisted_19","facturaSeleccionada","_hoisted_20","exportarDetalleExcel","_hoisted_21","item","codigo","cantidad","precio_unitario","toFixed","name","setup","router","useRouter","archivoCsv","inputCsv","event","target","files","async","alert","formData","FormData","append","response","axios","post","data","message","cargarFacturas","limpiarSesionCsv","console","errors","csvData","csvContent","map","e","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","volverAlMenu","push","get","cargarBodegas","params","undefined","fecha_inicio","fecha_fin","bodega_id","bodegaNombre","find","b","worksheetData","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","Date","toISOString","slice","fechaCargue","v","onMounted","__exports__","render"],"sourceRoot":""}