{"version":3,"file":"js/610.2043ca45.js","mappings":"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","sources":["webpack://frontend/./src/views/BodegasForm.vue","webpack://frontend/./src/views/BodegasForm.vue?aea4"],"sourcesContent":["<template>\r\n    <div class=\"gestion-bodegas\">\r\n      <h1>Gestión de Almacenes</h1>\r\n  \r\n      <!--<div class=\"top-buttons\"> -->\r\n      <!--  <button @click=\"volverAlMenu\" class=\"btn btn-secondary\">Volver al Menú</button> -->\r\n      <!--</div> -->\r\n  \r\n      <!-- Formulario para Crear/Editar Bodega -->\r\n      <section class=\"form-section\">\r\n        <h2>{{ modoEdicion ? 'Editar Almacén' : 'Crear Almacén' }}</h2>\r\n        <form @submit.prevent=\"modoEdicion ? actualizarBodega() : crearBodega()\">\r\n          <div class=\"form-group\">\r\n            <label for=\"nombre\">Nombre del Almacén:</label>\r\n            <input v-model=\"bodega.nombre\" id=\"nombre\" required />\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button v-if=\"!modoEdicion\" type=\"submit\">Crear Almacén</button>\r\n            <template v-else>\r\n              <button type=\"submit\">Guardar Almacén</button>\r\n              <button type=\"button\" @click=\"cancelarEdicion\">Cancelar</button>\r\n            </template>\r\n          </div>\r\n        </form>\r\n      </section>\r\n  \r\n      <!-- Lista de Bodegas -->\r\n      <section class=\"consulta-bodegas\">\r\n        <h2>Almacenes Creados</h2>\r\n        <div class=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nombre</th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"bod in bodegas\" :key=\"bod.id\">\r\n                <td>{{ bod.id }}</td>\r\n                <td>{{ bod.nombre }}</td>\r\n                <td>\r\n                  <button @click=\"editarBodega(bod)\">Editar</button>\r\n                  <button @click=\"eliminarBodega(bod.id)\">Eliminar</button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from '@/api/axios';\r\n\r\nexport default {\r\n  name: 'BodegasForm',\r\n  setup() {\r\n    const store = useStore();\r\n    const router = useRouter();\r\n\r\n    const bodega = ref({ id: null, nombre: '' });\r\n    const bodegas = ref([]);\r\n    const modoEdicion = ref(false);\r\n\r\n    const crearBodega = async () => {\r\n      try {\r\n        await axios.post('/inventory/bodegas', bodega.value);\r\n        alert('Almacén creado correctamente');\r\n        cargarBodegas();\r\n        resetearFormulario();\r\n      } catch (error) {\r\n        console.error('Error al crear almacén:', error);\r\n        alert(error.response?.data?.error || 'Error al crear almacén');\r\n      }\r\n    };\r\n\r\n    const cargarBodegas = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/bodegas');\r\n        bodegas.value = response.data.sort((a, b) => a.nombre.localeCompare(b.nombre));\r\n      } catch (error) {\r\n        console.error('Error al cargar almacenes:', error);\r\n        if (error.response?.status === 403) {\r\n          alert('No tienes permiso para ver los almacenes.');\r\n        } else {\r\n          alert('Ocurrió un error al cargar los almacenes.');\r\n        }\r\n      }\r\n    };\r\n\r\n    const editarBodega = (bod) => {\r\n      modoEdicion.value = true;\r\n      bodega.value = { ...bod };\r\n    };\r\n\r\n    const actualizarBodega = async () => {\r\n      try {\r\n        await axios.put(`/inventory/bodegas/${bodega.value.id}`, bodega.value);\r\n        alert('Almacén actualizado correctamente');\r\n        cargarBodegas();\r\n        cancelarEdicion();\r\n      } catch (error) {\r\n        console.error('Error al actualizar almacén:', error);\r\n        alert(error.response?.data?.error || 'Error al actualizar almacén');\r\n      }\r\n    };\r\n\r\n    const eliminarBodega = async (id) => {\r\n      if (confirm('¿Estás seguro de que deseas eliminar este almacén?')) {\r\n        try {\r\n          await axios.delete(`/inventory/bodegas/${id}`);\r\n          alert('Almacén eliminado correctamente');\r\n          cargarBodegas();\r\n        } catch (error) {\r\n          console.error('Error al eliminar almacén:', error);\r\n          alert(error.response?.data?.error || 'Error al eliminar almacén');\r\n        }\r\n      }\r\n    };\r\n\r\n    const cancelarEdicion = () => {\r\n      modoEdicion.value = false;\r\n      resetearFormulario();\r\n    };\r\n\r\n    const resetearFormulario = () => {\r\n      bodega.value = { id: null, nombre: '' };\r\n    };\r\n\r\n    const volverAlMenu = () => {\r\n      router.push('/inventory');\r\n    };\r\n\r\n    // Cargar bodegas al montar el componente\r\n    cargarBodegas();\r\n\r\n    return {\r\n      bodega,\r\n      bodegas,\r\n      modoEdicion,\r\n      crearBodega,\r\n      cargarBodegas,\r\n      editarBodega,\r\n      actualizarBodega,\r\n      eliminarBodega,\r\n      cancelarEdicion,\r\n      resetearFormulario,\r\n      volverAlMenu\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.gestion-bodegas {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.top-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  justify-content: flex-end;\r\n}\r\n\r\nbutton, .btn {\r\n  padding: 8px 16px;\r\n  background-color: #42b983; /* Verde característico */\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\nbutton:hover, .btn:hover {\r\n  background-color: #2c3e50; /* Hover oscuro */\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d; /* Gris para volver */\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.form-section, .consulta-bodegas {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.table-container {\r\n  max-width: 100%;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\nth, td {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n  color: #34495e;\r\n}\r\n\r\ntd {\r\n  max-width: 200px;\r\n  white-space: normal;\r\n  word-wrap: break-word;\r\n}\r\n\r\ntd:first-child {\r\n  text-align: left;\r\n}\r\n\r\ntbody tr:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n</style>\r\n","import { render } from \"./BodegasForm.vue?vue&type=template&id=232f1056&scoped=true\"\nimport script from \"./BodegasForm.vue?vue&type=script&lang=js\"\nexport * from \"./BodegasForm.vue?vue&type=script&lang=js\"\n\nimport \"./BodegasForm.vue?vue&type=style&index=0&id=232f1056&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-232f1056\"]])\n\nexport default __exports__"],"names":["class","key","type","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$setup","modoEdicion","onSubmit","_cache","_withModifiers","$event","actualizarBodega","crearBodega","_hoisted_3","for","bodega","nombre","id","required","_hoisted_4","_Fragment","onClick","args","cancelarEdicion","_hoisted_5","_hoisted_6","_hoisted_7","_renderList","bodegas","bod","editarBodega","_hoisted_8","eliminarBodega","_hoisted_9","name","setup","useStore","router","useRouter","ref","async","axios","post","value","alert","cargarBodegas","resetearFormulario","error","console","response","data","get","sort","a","b","localeCompare","status","put","confirm","delete","volverAlMenu","push","__exports__","render"],"sourceRoot":""}