{"version":3,"file":"js/663.a83aeccb.js","mappings":"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","sources":["webpack://frontend/./src/views/Kardex.vue","webpack://frontend/./src/views/Kardex.vue?e2fe"],"sourcesContent":["\r\n<template>\r\n  <div class=\"kardex-view\">\r\n    <h1>Kardex de Inventario de Productos</h1>\r\n\r\n    <!-- Botones de acción -->\r\n    <div class=\"actions\" style=\"justify-content: flex-end\">\r\n\r\n      <button @click=\"limpiarPagina\" class=\"btn btn-warning\">Limpiar Página</button>\r\n    </div>\r\n\r\n    <!-- Filtros de búsqueda -->\r\n    <section class=\"filters form-section\">\r\n      <h2>Filtrar Movimientos</h2>\r\n      <div class=\"filters-header\">\r\n        <div class=\"form-group\">\r\n          <label for=\"fechaInicio\">Fecha inicio:</label>\r\n          <input type=\"date\" id=\"fechaInicio\" v-model=\"fechaInicio\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"fechaFin\">Fecha fin:</label>\r\n          <input type=\"date\" id=\"fechaFin\" v-model=\"fechaFin\" />\r\n        </div>\r\n        <div class=\"form-actions\">\r\n          <button @click=\"consultarKardex\" class=\"btn\">Consultar Kardex</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filters-products form-group\">\r\n        <label for=\"nombreProducto\">Buscar por nombre:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"nombreProducto\"\r\n          v-model=\"nombreProducto\"\r\n          placeholder=\"Ingrese nombre del producto\"\r\n          @input=\"sincronizarPorNombre\"\r\n        />\r\n      </div>\r\n      <div class=\"filters-products form-group\">\r\n        <label for=\"productoSelector\">Seleccione un producto:</label>\r\n        <select v-model=\"codigoProducto\" id=\"productoSelector\" @change=\"sincronizarSelectorConCodigo\">\r\n          <option value=\"\" disabled>Seleccione un producto</option>\r\n          <option v-for=\"producto in productos\" :key=\"producto.codigo\" :value=\"producto.codigo\">\r\n            {{ producto.codigo }} - {{ producto.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div class=\"filters-products form-group\">\r\n        <label for=\"codigoProducto\">O ingrese el código del producto:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"codigoProducto\"\r\n          v-model=\"codigoProducto\"\r\n          placeholder=\"Ingrese el código del producto\"\r\n          @input=\"sincronizarCodigoConSelector\"\r\n        />\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Mensaje informativo -->\r\n    <p class=\"info-message\">\r\n      Nota: Para incluir movimientos del día actual, seleccione un día adicional como fecha final.\r\n    </p>\r\n\r\n    <!-- Tabla de resumen -->\r\n    <section v-if=\"kardex.length\" class=\"summary form-section\">\r\n      <h2>Resumen por Almacén</h2>\r\n      <div class=\"cpp-global\">\r\n        <span>CPP GLOBAL</span>\r\n        <span>{{ cppGlobal ? `$${formatCosto(cppGlobal)}` : 'N/A' }}</span>\r\n      </div>\r\n      <div class=\"table-container\">\r\n        <table class=\"resumen-costos\">\r\n          <thead>\r\n            <tr>\r\n              <th>ALMACÉN</th>\r\n              <th>STOCK FINAL</th>\r\n              <th>VALOR ACUMULADO</th>\r\n              <th>CPP</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(resumen, index) in resumenPorAlmacen\" :key=\"index\">\r\n              <td>{{ resumen.almacen }}</td>\r\n              <td>{{ resumen.stockFinal }}</td>\r\n              <td>{{ resumen.valorAcumulado ? `$${formatCosto(resumen.valorAcumulado)}` : 'N/A' }}</td>\r\n              <td>{{ resumen.cpp ? `$${formatCosto(resumen.cpp)}` : 'N/A' }}</td>\r\n            </tr>\r\n            <tr class=\"total-row\">\r\n              <td><strong>TOTAL</strong></td>\r\n              <td><strong>{{ totalStock }}</strong></td>\r\n              <td><strong>{{ totalValor ? `$${formatCosto(totalValor)}` : 'N/A' }}</strong></td>\r\n              <td></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Filtro por almacén -->\r\n    <section v-if=\"kardex.length\" class=\"filters-bodega form-section\">\r\n      <h3>Filtrar por Almacén</h3>\r\n      <div class=\"bodega-checkboxes\">\r\n        <label class=\"checkbox-container\">\r\n          <input\r\n            type=\"checkbox\"\r\n            value=\"\"\r\n            v-model=\"bodegasSeleccionadas\"\r\n            @change=\"filtrarPorBodega\"\r\n          />\r\n          <span>Todos</span>\r\n        </label>\r\n        <label v-for=\"bodega in bodegas\" :key=\"bodega.id\" class=\"checkbox-container\">\r\n          <input\r\n            type=\"checkbox\"\r\n            :value=\"bodega.nombre\"\r\n            v-model=\"bodegasSeleccionadas\"\r\n            @change=\"filtrarPorBodega\"\r\n          />\r\n          <span>{{ bodega.nombre }}</span>\r\n        </label>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Tabla de resultados -->\r\n    <section v-if=\"kardexFiltrado.length\" class=\"results form-section\">\r\n      <h2>Movimientos del Producto</h2>\r\n      <div class=\"form-actions\">\r\n        <button @click=\"imprimirKardexPDF\" class=\"btn btn-success\" title=\"Imprimir PDF\">\r\n          <font-awesome-icon icon=\"file-pdf\" class=\"pdf-icon\" />\r\n        </button>\r\n        <button @click=\"exportarKardexCSV\" class=\"btn btn-info\" title=\"Exportar CSV\">\r\n          <font-awesome-icon icon=\"file-csv\" class=\"csv-icon\" />\r\n        </button>\r\n        <button @click=\"exportarKardexExcel\" class=\"btn btn-primary\" title=\"Exportar Excel\">\r\n          <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" />\r\n        </button>\r\n      </div>\r\n      <div class=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Fecha</th>\r\n              <th>Documento</th>\r\n              <th>Almacén</th>\r\n              <th>Cant.</th>\r\n              <th>Costo</th>\r\n              <th>Costo Total</th>\r\n              <th>Cantidad Acumulada</th>\r\n              <th>Valor Acumulado</th>\r\n              <th>CPP</th>\r\n              <th>CPP Global</th>\r\n              <th>Descripción</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(registro, index) in kardexFiltrado\" :key=\"index\">\r\n              <td>{{ registro.fecha }}</td>\r\n              <td>{{ registro.tipo }}</td>\r\n              <td>{{ registro.bodega || 'N/A' }}</td>\r\n              <td>{{ registro.tipo === 'SALIDA' ? `-${registro.cantidad}` : registro.cantidad }}</td>\r\n              <td>{{ registro.costo_unitario ? `$${formatCosto(registro.costo_unitario)}` : 'N/A' }}</td>\r\n              <td>{{ registro.tipo === 'SALIDA' ? `-$${formatCosto(registro.costo_total)}` : `$${formatCosto(registro.costo_total)}` }}</td>\r\n              <td>{{ registro.saldo }}</td>\r\n              <td>{{ registro.saldo_costo_total !== null && registro.saldo_costo_total !== undefined ? `$${formatCosto(registro.saldo_costo_total)}` : 'N/A' }}</td>\r\n              <td>{{ registro.saldo_costo_unitario ? `$${formatCosto(registro.saldo_costo_unitario)}` : 'N/A' }}</td>\r\n              <td>{{ registro.saldo_costo_unitario_global ? `$${formatCosto(registro.saldo_costo_unitario_global)}` : 'N/A' }}</td>\r\n              <td>{{ registro.descripcion }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Sin resultados -->\r\n    <section v-else-if=\"mostrarMensajeSinDatos\" class=\"form-section\">\r\n      <p>No hay datos para mostrar. Realice una consulta o ajuste el filtro por almacén.</p>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiClient from '@/api/axios';\r\nimport * as XLSX from 'xlsx';\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\n\r\nexport default {\r\n  name: 'KardexView',\r\n  components: { FontAwesomeIcon },\r\n  data() {\r\n    return {\r\n      productos: [],\r\n      bodegas: [],\r\n      codigoProducto: '',\r\n      nombreProducto: '',\r\n      fechaInicio: '',\r\n      fechaFin: '',\r\n      kardex: [],\r\n      kardexFiltrado: [],\r\n      bodegasSeleccionadas: [],\r\n      resumenPorAlmacen: [],\r\n      cppGlobal: null,\r\n      totalStock: 0,\r\n      totalValor: 0,\r\n      mostrarMensajeSinDatos: false,\r\n    };\r\n  },\r\n  methods: {\r\n    limpiarPagina() {\r\n      this.codigoProducto = '';\r\n      this.nombreProducto = '';\r\n      this.fechaInicio = '';\r\n      this.fechaFin = '';\r\n      this.kardex = [];\r\n      this.kardexFiltrado = [];\r\n      this.bodegasSeleccionadas = [];\r\n      this.resumenPorAlmacen = [];\r\n      this.cppGlobal = null;\r\n      this.totalStock = 0;\r\n      this.totalValor = 0;\r\n      this.mostrarMensajeSinDatos = false;\r\n    },\r\n    async cargarProductos() {\r\n      try {\r\n        const response = await apiClient.get('/api/productos/completos');\r\n        this.productos = response.data.sort((a, b) => a.codigo.localeCompare(b.codigo));\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.message;\r\n        alert(`Error al cargar productos: ${errorMsg}`);\r\n      }\r\n    },\r\n    async cargarBodegas() {\r\n      try {\r\n        const response = await apiClient.get('/inventory/bodegas');\r\n        this.bodegas = response.data;\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.message;\r\n        alert(`Error al cargar almacenes: ${errorMsg}`);\r\n      }\r\n    },\r\n    async consultarKardex() {\r\n      if (!this.codigoProducto || !this.fechaInicio || !this.fechaFin) {\r\n        alert('Debe seleccionar un producto y definir un rango de fechas.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const params = {\r\n          codigo: this.codigoProducto,\r\n          fecha_inicio: this.fechaInicio,\r\n          fecha_fin: this.fechaFin,\r\n        };\r\n        if (this.bodegasSeleccionadas.length > 0 && !this.bodegasSeleccionadas.includes('')) {\r\n          params.bodegas = this.bodegasSeleccionadas.join(',');\r\n        }\r\n\r\n        const response = await apiClient.get('/inventory/kardex', { params });\r\n        const data = response.data;\r\n\r\n        if (data.message) {\r\n          alert(data.message);\r\n          this.kardex = [];\r\n          this.kardexFiltrado = [];\r\n          this.mostrarMensajeSinDatos = true;\r\n          return;\r\n        }\r\n\r\n        this.kardex = data.kardex || [];\r\n        this.kardexFiltrado = [...this.kardex];\r\n        this.calcularResumen();\r\n        this.mostrarMensajeSinDatos = this.kardex.length === 0;\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.response?.data?.message || error.message;\r\n        alert(`Error al consultar el kardex: ${errorMsg}`);\r\n        this.kardex = [];\r\n        this.kardexFiltrado = [];\r\n        this.mostrarMensajeSinDatos = true;\r\n      }\r\n    },\r\n    calcularResumen() {\r\n      const almacenes = [...new Set(this.kardex.map((mov) => mov.bodega))].filter((b) => b);\r\n      this.resumenPorAlmacen = almacenes\r\n        .map((almacen) => {\r\n          const movimientosAlmacen = this.kardex\r\n            .filter((mov) => mov.bodega === almacen)\r\n            .sort((a, b) => new Date(b.fecha) - new Date(a.fecha));\r\n          const ultimoMovimiento = movimientosAlmacen[0];\r\n          return {\r\n            almacen,\r\n            stockFinal: ultimoMovimiento.saldo,\r\n            valorAcumulado: ultimoMovimiento.saldo_costo_total,\r\n            cpp: ultimoMovimiento.saldo_costo_unitario,\r\n          };\r\n        })\r\n        .sort((a, b) => a.almacen.localeCompare(b.almacen));\r\n\r\n      this.totalStock = this.resumenPorAlmacen.reduce((sum, r) => sum + r.stockFinal, 0);\r\n      this.totalValor = this.resumenPorAlmacen.reduce((sum, r) => sum + (r.valorAcumulado || 0), 0);\r\n      this.cppGlobal = this.totalStock > 0 ? this.totalValor / this.totalStock : 0;\r\n    },\r\n    filtrarPorBodega() {\r\n      if (this.bodegasSeleccionadas.includes('')) {\r\n        this.kardexFiltrado = [...this.kardex];\r\n      } else if (this.bodegasSeleccionadas.length === 0) {\r\n        this.kardexFiltrado = [...this.kardex];\r\n      } else {\r\n        this.kardexFiltrado = this.kardex.filter((mov) =>\r\n          this.bodegasSeleccionadas.includes(mov.bodega)\r\n        );\r\n      }\r\n      this.mostrarMensajeSinDatos = this.kardexFiltrado.length === 0 && this.kardex.length > 0;\r\n    },\r\n    async imprimirKardexPDF() {\r\n      if (!this.codigoProducto || !this.fechaInicio || !this.fechaFin) {\r\n        alert('Debe realizar una consulta antes de generar el PDF.');\r\n        return;\r\n      }\r\n      try {\r\n        const params = {\r\n          codigo: this.codigoProducto,\r\n          fecha_inicio: this.fechaInicio,\r\n          fecha_fin: this.fechaFin,\r\n        };\r\n        if (this.bodegasSeleccionadas.length > 0 && !this.bodegasSeleccionadas.includes('')) {\r\n          params.bodegas = this.bodegasSeleccionadas.join(',');\r\n        }\r\n        const response = await apiClient.get('/api/kardex/pdf', {\r\n          params,\r\n          responseType: 'blob',\r\n        });\r\n        const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute(\r\n          'download',\r\n          `kardex_${this.codigoProducto}${this.bodegasSeleccionadas.length ? '_' + this.bodegasSeleccionadas.join('_') : ''}.pdf`\r\n        );\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      } catch (error) {\r\n        const errorMsg = error.response?.data?.error || error.message;\r\n        alert(`Error al generar el PDF del Kardex: ${errorMsg}`);\r\n      }\r\n    },\r\n    exportarKardexCSV() {\r\n      if (!this.kardexFiltrado.length) {\r\n        alert('No hay datos filtrados para exportar a CSV.');\r\n        return;\r\n      }\r\n      const productoNombre =\r\n        this.productos.find((p) => p.codigo === this.codigoProducto)?.nombre || 'Desconocido';\r\n      let csvContent =\r\n        'data:text/csv;charset=utf-8,' +\r\n        `Kardex de Inventario\\n` +\r\n        `Producto: ${this.codigoProducto} - ${productoNombre}\\n` +\r\n        `Rango de Fechas: ${this.fechaInicio} a ${this.fechaFin}\\n` +\r\n        `Almacén: ${this.bodegasSeleccionadas.length > 0 && !this.bodegasSeleccionadas.includes('') ? this.bodegasSeleccionadas.join(', ') : 'Todos'}\\n\\n` +\r\n        `Resumen por Almacén\\n` +\r\n        `CPP GLOBAL;${this.cppGlobal ? this.cppGlobal.toFixed(2) : 'N/A'}\\n\\n` +\r\n        `ALMACÉN;STOCK FINAL;VALOR ACUMULADO;CPP\\n` +\r\n        this.resumenPorAlmacen\r\n          .map(\r\n            (resumen) =>\r\n              `${resumen.almacen};${resumen.stockFinal};${resumen.valorAcumulado ? resumen.valorAcumulado.toFixed(2) : 'N/A'};${resumen.cpp ? resumen.cpp.toFixed(2) : 'N/A'}`\r\n          )\r\n          .join('\\n') +\r\n        '\\n' +\r\n        `TOTAL;${this.totalStock};${this.totalValor ? this.totalValor.toFixed(2) : 'N/A'};\\n\\n` +\r\n        `Movimientos del Producto\\n` +\r\n        `Fecha;Documento;Almacén;Cant.;Costo;Costo Total;Cantidad Acumulada;Valor Acumulado;CPP;CPP Global;Descripción\\n` +\r\n        this.kardexFiltrado\r\n          .map((mov) => [\r\n            mov.fecha,\r\n            mov.tipo,\r\n            mov.bodega || 'N/A',\r\n            mov.tipo === 'SALIDA' ? -mov.cantidad : mov.cantidad,\r\n            mov.costo_unitario ? mov.costo_unitario.toFixed(2) : 'N/A',\r\n            mov.tipo === 'SALIDA' ? -mov.costo_total : mov.costo_total ? mov.costo_total.toFixed(2) : 'N/A',\r\n            mov.saldo,\r\n            mov.saldo_costo_total !== undefined && mov.saldo_costo_total !== null\r\n              ? mov.saldo_costo_total.toFixed(2)\r\n              : 'N/A',\r\n            mov.saldo_costo_unitario ? mov.saldo_costo_unitario.toFixed(2) : 'N/A',\r\n            mov.saldo_costo_unitario_global ? mov.saldo_costo_unitario_global.toFixed(2) : 'N/A',\r\n            mov.descripcion.replace(/;/g, ' '),\r\n          ].join(';'))\r\n          .join('\\n');\r\n      const encodedUri = encodeURI(csvContent);\r\n      const link = document.createElement('a');\r\n      link.setAttribute('href', encodedUri);\r\n      link.setAttribute(\r\n        'download',\r\n        `kardex_${this.codigoProducto}${this.bodegasSeleccionadas.length ? '_' + this.bodegasSeleccionadas.join('_') : ''}.csv`\r\n      );\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    },\r\n    exportarKardexExcel() {\r\n      if (!this.kardexFiltrado.length) {\r\n        alert('No hay datos filtrados para exportar a Excel.');\r\n        return;\r\n      }\r\n      const productoNombre =\r\n        this.productos.find((p) => p.codigo === this.codigoProducto)?.nombre || 'Desconocido';\r\n      const worksheetData = [\r\n        ['Kardex de Inventario'],\r\n        [`Producto: ${this.codigoProducto} - ${productoNombre}`],\r\n        [`Rango de Fechas: ${this.fechaInicio} a ${this.fechaFin}`],\r\n        [\r\n          `Almacén: ${\r\n            this.bodegasSeleccionadas.length > 0 && !this.bodegasSeleccionadas.includes('')\r\n              ? this.bodegasSeleccionadas.join(', ')\r\n              : 'Todos'\r\n          }`,\r\n        ],\r\n        [],\r\n        ['Resumen por Almacén'],\r\n        ['CPP GLOBAL', this.cppGlobal ? this.cppGlobal.toFixed(2) : 'N/A'],\r\n        [],\r\n        ['ALMACÉN', 'STOCK FINAL', 'VALOR ACUMULADO', 'CPP'],\r\n        ...this.resumenPorAlmacen.map((resumen) => [\r\n          resumen.almacen,\r\n          resumen.stockFinal,\r\n          resumen.valorAcumulado ? resumen.valorAcumulado.toFixed(2) : 'N/A',\r\n          resumen.cpp ? resumen.cpp.toFixed(2) : 'N/A',\r\n        ]),\r\n        ['TOTAL', this.totalStock, this.totalValor ? this.totalValor.toFixed(2) : 'N/A', ''],\r\n        [],\r\n        ['Movimientos del Producto'],\r\n        [\r\n          'Fecha',\r\n          'Documento',\r\n          'Almacén',\r\n          'Cant.',\r\n          'Costo',\r\n          'Costo Total',\r\n          'Cant. Acumulada',\r\n          'Valor Acumulado',\r\n          'CPP',\r\n          'CPP Global',\r\n          'Descripción',\r\n        ],\r\n        ...this.kardexFiltrado.map((mov) => [\r\n          mov.fecha,\r\n          mov.tipo,\r\n          mov.bodega || 'N/A',\r\n          mov.tipo === 'SALIDA' ? -mov.cantidad : mov.cantidad,\r\n          mov.costo_unitario ? mov.costo_unitario.toFixed(2) : 'N/A',\r\n          mov.tipo === 'SALIDA' ? -mov.costo_total : mov.costo_total ? mov.costo_total.toFixed(2) : 'N/A',\r\n          mov.saldo,\r\n          mov.saldo_costo_total !== undefined && mov.saldo_costo_total !== null\r\n            ? mov.saldo_costo_total.toFixed(2)\r\n            : 'N/A',\r\n          mov.saldo_costo_unitario ? mov.saldo_costo_unitario.toFixed(2) : 'N/A',\r\n          mov.saldo_costo_unitario_global ? mov.saldo_costo_unitario_global.toFixed(2) : 'N/A',\r\n          mov.descripcion,\r\n        ]),\r\n      ];\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Kardex');\r\n      XLSX.writeFile(\r\n        workbook,\r\n        `kardex_${this.codigoProducto}${this.bodegasSeleccionadas.length ? '_' + this.bodegasSeleccionadas.join('_') : ''}.xlsx`\r\n      );\r\n    },\r\n    sincronizarPorNombre() {\r\n      if (!this.nombreProducto) {\r\n        this.codigoProducto = '';\r\n        return;\r\n      }\r\n      const productoEncontrado = this.productos.find((p) =>\r\n        p.nombre.toLowerCase().includes(this.nombreProducto.toLowerCase())\r\n      );\r\n      if (productoEncontrado) {\r\n        this.codigoProducto = productoEncontrado.codigo;\r\n      }\r\n    },\r\n    sincronizarCodigoConSelector() {\r\n      if (!this.codigoProducto) {\r\n        this.nombreProducto = '';\r\n        return;\r\n      }\r\n      const productoEncontrado = this.productos.find((p) => p.codigo === this.codigoProducto);\r\n      if (productoEncontrado) {\r\n        this.nombreProducto = productoEncontrado.nombre;\r\n      }\r\n    },\r\n    sincronizarSelectorConCodigo() {\r\n      const productoEncontrado = this.productos.find((p) => p.codigo === this.codigoProducto);\r\n      if (productoEncontrado) {\r\n        this.nombreProducto = productoEncontrado.nombre;\r\n      } else {\r\n        this.nombreProducto = '';\r\n      }\r\n    },\r\n    volverAlMenu() {\r\n      this.$router.push('/inventory');\r\n    },\r\n    formatCosto(costo) {\r\n      return Number(costo).toLocaleString('es-CO', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.cargarProductos();\r\n    this.cargarBodegas();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.kardex-view {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.2rem;\r\n  color: #34495e;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.btn {\r\n  padding: 8px 16px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.btn:hover {\r\n  background-color: #2c3e50;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n  color: #333;\r\n}\r\n\r\n.btn-warning:hover {\r\n  background-color: #e0a800;\r\n}\r\n\r\n.btn-success {\r\n  background-color: #28a745;\r\n}\r\n\r\n.btn-success:hover {\r\n  background-color: #218838;\r\n}\r\n\r\n.btn-info {\r\n  background-color: #17a2b8;\r\n}\r\n\r\n.btn-info:hover {\r\n  background-color: #138496;\r\n}\r\n\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n}\r\n\r\n.form-group input,\r\n.form-group select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filters-header {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  align-items: flex-end;\r\n}\r\n\r\n.info-message {\r\n  margin: 10px 0;\r\n  font-style: italic;\r\n  color: #555;\r\n  text-align: center;\r\n}\r\n\r\n.table-container {\r\n  max-width: 100%;\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\nth,\r\ntd {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n  color: #34495e;\r\n}\r\n\r\ntbody tr:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.resumen-costos {\r\n  width: 60%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.resumen-costos th,\r\n.resumen-costos td {\r\n  padding: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.total-row {\r\n  font-weight: bold;\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.cpp-global {\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 200px;\r\n}\r\n\r\n.filters-bodega {\r\n  padding: 15px;\r\n}\r\n\r\n.bodega-checkboxes {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.checkbox-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.checkbox-container input[type='checkbox'] {\r\n  margin: 0;\r\n  accent-color: #42b983;\r\n}\r\n\r\n.checkbox-container span {\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n.checkbox-container:hover span {\r\n  color: #42b983;\r\n}\r\n\r\n.excel-icon,\r\n.pdf-icon,\r\n.csv-icon {\r\n  margin-left: 5px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .filters-header {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .form-group input,\r\n  .form-group select {\r\n    font-size: 16px;\r\n  }\r\n\r\n  table {\r\n    display: block;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .resumen-costos {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","import { render } from \"./Kardex.vue?vue&type=template&id=f1fcec6e&scoped=true\"\nimport script from \"./Kardex.vue?vue&type=script&lang=js\"\nexport * from \"./Kardex.vue?vue&type=script&lang=js\"\n\nimport \"./Kardex.vue?vue&type=style&index=0&id=f1fcec6e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f1fcec6e\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","limpiarPagina","_hoisted_3","_hoisted_4","_hoisted_5","for","type","id","$event","$data","fechaInicio","_hoisted_6","fechaFin","_hoisted_7","consultarKardex","_hoisted_8","nombreProducto","placeholder","onInput","sincronizarPorNombre","_hoisted_9","codigoProducto","onChange","sincronizarSelectorConCodigo","value","disabled","_Fragment","_renderList","productos","producto","codigo","_toDisplayString","nombre","_hoisted_10","_hoisted_11","sincronizarCodigoConSelector","kardex","length","_hoisted_12","_hoisted_13","cppGlobal","formatCosto","_hoisted_14","_hoisted_15","resumenPorAlmacen","resumen","index","almacen","stockFinal","valorAcumulado","cpp","_hoisted_16","totalStock","totalValor","_createCommentVNode","_hoisted_17","_hoisted_18","_hoisted_19","bodegasSeleccionadas","filtrarPorBodega","bodegas","bodega","_hoisted_20","kardexFiltrado","_hoisted_21","_hoisted_22","imprimirKardexPDF","title","_createVNode","_component_font_awesome_icon","icon","exportarKardexCSV","exportarKardexExcel","_hoisted_23","registro","fecha","tipo","cantidad","costo_unitario","costo_total","saldo","saldo_costo_total","undefined","saldo_costo_unitario","saldo_costo_unitario_global","descripcion","mostrarMensajeSinDatos","_hoisted_24","name","components","FontAwesomeIcon","data","methods","this","cargarProductos","response","apiClient","get","sort","a","b","localeCompare","error","errorMsg","message","alert","cargarBodegas","params","fecha_inicio","fecha_fin","includes","join","calcularResumen","almacenes","Set","map","mov","filter","movimientosAlmacen","Date","ultimoMovimiento","reduce","sum","r","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","productoNombre","find","p","csvContent","toFixed","replace","encodedUri","encodeURI","worksheetData","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","productoEncontrado","toLowerCase","volverAlMenu","$router","push","costo","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","mounted","__exports__","render"],"sourceRoot":""}