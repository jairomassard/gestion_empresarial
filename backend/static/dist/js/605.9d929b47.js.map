{"version":3,"file":"js/605.9d929b47.js","mappings":"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","sources":["webpack://frontend/./src/views/ConsultaInventario_Lite.vue","webpack://frontend/./src/views/ConsultaInventario_Lite.vue?302c"],"sourcesContent":["<template>\r\n    <div class=\"consulta-inventario\">\r\n      <h1>Consulta de Inventario de Productos</h1>\r\n  \r\n      <section class=\"form-section\">\r\n        <div class=\"form-actions\" style=\"justify-content: flex-end\">\r\n          <button @click=\"limpiarPagina\" class=\"btn btn-warning\">Limpiar Página</button>\r\n          \r\n        </div>\r\n  \r\n        <!-- Filtros de búsqueda -->\r\n        <div class=\"form-group\">\r\n          <label for=\"nombreFiltro\">Buscar por nombre:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"nombreFiltro\"\r\n            v-model=\"nombreDigitado\"\r\n            placeholder=\"Ingrese nombre del producto\"\r\n            @input=\"sincronizarPorNombre\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"codigoFiltro\">Buscar por código:</label>\r\n          <input\r\n            v-model=\"codigoDigitado\"\r\n            id=\"codigoFiltro\"\r\n            placeholder=\"Ingrese código de producto\"\r\n            @input=\"sincronizarCodigoConSelector\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"productoSelector\">Seleccione un producto:</label>\r\n          <select v-model=\"filtroProducto\" id=\"productoSelector\" @change=\"sincronizarSelectorConCodigo\">\r\n            <option value=\"\">Todos</option>\r\n            <option v-for=\"producto in productosDisponibles\" :key=\"producto.codigo\" :value=\"producto.codigo\">\r\n              {{ producto.codigo }} - {{ producto.nombre }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-actions\">\r\n            <button @click=\"consultar\" class=\"btn\">Consultar Inventario</button>\r\n        </div>\r\n      </section>\r\n  \r\n      <!-- Filtro por Bodega -->\r\n      <section v-if=\"mostrarInventario && filtroProducto === '' && codigoDigitado === ''\" class=\"form-section\">\r\n        <div class=\"form-group\">\r\n          <label for=\"filtroBodega\">Filtrar por bodega:</label>\r\n          <select v-model=\"filtroBodega\" id=\"filtroBodega\" @change=\"filtrarPorBodega\">\r\n            <option value=\"\">Todas</option>\r\n            <option v-for=\"bodega in bodegas\" :key=\"bodega\" :value=\"bodega\">{{ bodega }}</option>\r\n          </select>\r\n        </div>\r\n      </section>\r\n  \r\n      <!-- Tabla de Inventario -->\r\n      <section v-if=\"mostrarInventario\">\r\n        <h2>Inventario de Productos</h2>\r\n        <div class=\"form-actions\">\r\n          <button v-if=\"productosFiltrados.length\" @click=\"exportarAExcel\" class=\"btn\">\r\n            Exportar a Excel <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" />\r\n          </button>\r\n        </div>\r\n        <div class=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Código</th>\r\n                <th>Nombre</th>\r\n                <th>Total</th>\r\n                <th v-for=\"bodega in bodegasMostradas\" :key=\"bodega\">{{ bodega }}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"producto in productosFiltrados\" :key=\"producto.codigo\">\r\n                <td>{{ producto.codigo }}</td>\r\n                <td>{{ producto.nombre }}</td>\r\n                <td>{{ producto.cantidad_total }}</td>\r\n                <td v-for=\"bodega in bodegasMostradas\" :key=\"bodega\">\r\n                  {{ producto.cantidades_por_bodega[bodega] || 0 }}\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div v-if=\"filtroProducto === '' && codigoDigitado === ''\" class=\"paginacion\">\r\n          <button :disabled=\"paginaActual === 1\" @click=\"cambiarPagina(paginaActual - 1)\" class=\"btn\">Anterior</button>\r\n          <span>Página {{ paginaActual }}</span>\r\n          <button :disabled=\"productos.length < limite\" @click=\"cambiarPagina(paginaActual + 1)\" class=\"btn\">Siguiente</button>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import apiClient from '@/api/axios';\r\n  import * as XLSX from \"xlsx\";\r\n  \r\n  export default {\r\n    name: \"ConsultaInventarioLite\",\r\n    data() {\r\n      return {\r\n        filtroProducto: \"\",\r\n        codigoDigitado: \"\",\r\n        nombreDigitado: \"\",\r\n        productosDisponibles: [],\r\n        productos: [],\r\n        productosFiltrados: [],\r\n        bodegas: [],\r\n        bodegasMostradas: [],\r\n        filtroBodega: \"\",\r\n        mostrarInventario: false,\r\n        paginaActual: 1,\r\n        limite: 20,\r\n        todosLosProductos: [],\r\n      };\r\n    },\r\n    methods: {\r\n      limpiarPagina() {\r\n        this.codigoDigitado = \"\";\r\n        this.nombreDigitado = \"\";\r\n        this.filtroProducto = \"\";\r\n        this.filtroBodega = \"\";\r\n        this.productos = [];\r\n        this.productosFiltrados = [];\r\n        this.bodegas = [];\r\n        this.bodegasMostradas = [];\r\n        this.mostrarInventario = false;\r\n        this.paginaActual = 1;\r\n        this.todosLosProductos = [];\r\n      },\r\n      async consultar() {\r\n        if (this.filtroProducto || this.codigoDigitado || this.nombreDigitado) {\r\n          await this.consultarProductoEspecifico();\r\n        } else {\r\n          await this.consultarTodosLosProductos();\r\n        }\r\n      },\r\n      async consultarProductoEspecifico() {\r\n        try {\r\n          const codigo = this.filtroProducto || this.codigoDigitado;\r\n          let url = `/api/inventario/${codigo}`;\r\n          if (this.nombreDigitado && !codigo) {\r\n            url = `/api/inventario?nombre=${encodeURIComponent(this.nombreDigitado)}&limit=999999`;\r\n          }\r\n          const response = await apiClient.get(url);\r\n          const data = response.data;\r\n  \r\n          if (data.error) {\r\n            alert(data.error);\r\n            this.limpiarPagina();\r\n            return;\r\n          }\r\n          if (data.message) {\r\n            alert(data.message);\r\n            this.mostrarInventario = false;\r\n            this.productos = [];\r\n            this.bodegas = [];\r\n            return;\r\n          }\r\n  \r\n          const bodegasResponse = await apiClient.get(\"/inventory/bodegas\");\r\n          const todasLasBodegas = bodegasResponse.data.map((b) => b.nombre);\r\n  \r\n          this.bodegas = todasLasBodegas;\r\n          this.bodegasMostradas = todasLasBodegas;\r\n          if (data.producto) {\r\n            this.productos = [{\r\n              codigo: data.producto.codigo,\r\n              nombre: data.producto.nombre,\r\n              cantidad_total: data.inventario.reduce((total, item) => total + item.cantidad, 0),\r\n              cantidades_por_bodega: todasLasBodegas.reduce((acc, bodega) => {\r\n                const item = data.inventario.find((i) => i.bodega === bodega);\r\n                acc[bodega] = item ? item.cantidad : 0;\r\n                return acc;\r\n              }, {}),\r\n            }];\r\n          } else {\r\n            this.productos = data.productos.map(producto => ({\r\n              codigo: producto.codigo,\r\n              nombre: producto.nombre,\r\n              cantidad_total: producto.cantidad_total,\r\n              cantidades_por_bodega: producto.cantidades_por_bodega,\r\n            }));\r\n          }\r\n          this.productosFiltrados = [...this.productos];\r\n          this.mostrarInventario = true;\r\n        } catch (error) {\r\n          console.error(\"Error al consultar inventario específico:\", error);\r\n          if (error.response?.status === 403) {\r\n            alert(\"No tienes permiso para consultar el inventario.\");\r\n            this.$router.push('/login');\r\n          } else if (error.response?.status === 404) {\r\n            alert(\"Producto no encontrado.\");\r\n          } else {\r\n            alert(\"Ocurrió un error al consultar el inventario.\");\r\n          }\r\n          this.mostrarInventario = false;\r\n        }\r\n      },\r\n      async consultarTodosLosProductos() {\r\n        try {\r\n          const offset = (this.paginaActual - 1) * this.limite;\r\n          const response = await apiClient.get(`/api/inventario?offset=${offset}&limit=${this.limite}`);\r\n          const { productos, bodegas, total } = response.data;\r\n  \r\n          if (!productos || productos.length === 0) {\r\n            alert(\"No se encontró información en el inventario.\");\r\n            this.mostrarInventario = false;\r\n            return;\r\n          }\r\n  \r\n          this.bodegas = bodegas || [];\r\n          this.bodegasMostradas = [...this.bodegas];\r\n          this.productos = productos.map((producto) => ({\r\n            codigo: producto.codigo,\r\n            nombre: producto.nombre,\r\n            cantidad_total: producto.cantidad_total,\r\n            cantidades_por_bodega: { ...producto.cantidades_por_bodega },\r\n          }));\r\n          this.productosFiltrados = [...this.productos];\r\n          this.mostrarInventario = true;\r\n  \r\n          if (total > this.limite) {\r\n            const fullResponse = await apiClient.get(\"/api/inventario?limit=999999\");\r\n            this.todosLosProductos = fullResponse.data.productos.map((producto) => ({\r\n              codigo: producto.codigo,\r\n              nombre: producto.nombre,\r\n              cantidad_total: producto.cantidad_total,\r\n              cantidades_por_bodega: { ...producto.cantidades_por_bodega },\r\n            }));\r\n          } else {\r\n            this.todosLosProductos = [...this.productos];\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error al consultar inventario general:\", error);\r\n          if (error.response?.status === 403) {\r\n            alert(\"No tienes permiso para consultar el inventario.\");\r\n            this.$router.push('/login');\r\n          } else {\r\n            alert(\"Ocurrió un error al consultar el inventario general.\");\r\n          }\r\n          this.mostrarInventario = false;\r\n        }\r\n      },\r\n      filtrarPorBodega() {\r\n        if (this.filtroBodega) {\r\n          this.bodegasMostradas = [this.filtroBodega];\r\n          this.productosFiltrados = this.productos.map(producto => ({\r\n            ...producto,\r\n            cantidad_total: producto.cantidades_por_bodega[this.filtroBodega] || 0,\r\n          }));\r\n        } else {\r\n          this.bodegasMostradas = [...this.bodegas];\r\n          this.productosFiltrados = [...this.productos];\r\n        }\r\n      },\r\n      async cargarProductosDisponibles() {\r\n        try {\r\n          const response = await apiClient.get(\"/api/productos/completos\");\r\n          this.productosDisponibles = response.data.sort((a, b) => a.codigo.localeCompare(b.codigo));\r\n        } catch (error) {\r\n          console.error(\"Error al cargar productos disponibles:\", error);\r\n          if (error.response?.status === 403) {\r\n            alert(\"No tienes permiso para acceder a los productos.\");\r\n            this.$router.push('/login');\r\n          }\r\n        }\r\n      },\r\n      cambiarPagina(nuevaPagina) {\r\n        this.paginaActual = nuevaPagina;\r\n        this.consultarTodosLosProductos();\r\n      },\r\n      sincronizarPorNombre() {\r\n        const productoEncontrado = this.productosDisponibles.find(p => \r\n          p.nombre.toLowerCase().includes(this.nombreDigitado.toLowerCase())\r\n        );\r\n        if (productoEncontrado) {\r\n          this.filtroProducto = productoEncontrado.codigo;\r\n          this.codigoDigitado = productoEncontrado.codigo;\r\n        }\r\n      },\r\n      sincronizarCodigoConSelector() {\r\n        const productoEncontrado = this.productosDisponibles.find(p => p.codigo === this.codigoDigitado);\r\n        if (productoEncontrado) {\r\n          this.filtroProducto = productoEncontrado.codigo;\r\n          this.nombreDigitado = productoEncontrado.nombre;\r\n        }\r\n      },\r\n      sincronizarSelectorConCodigo() {\r\n        const productoSeleccionado = this.productosDisponibles.find(p => p.codigo === this.filtroProducto);\r\n        if (productoSeleccionado) {\r\n          this.codigoDigitado = productoSeleccionado.codigo;\r\n          this.nombreDigitado = productoSeleccionado.nombre;\r\n        } else {\r\n          this.codigoDigitado = \"\";\r\n          this.nombreDigitado = \"\";\r\n        }\r\n      },\r\n      volverAlMenu() {\r\n        this.$router.push('/menu-operador');\r\n      },\r\n      exportarAExcel() {\r\n        const dataToExport = this.filtroProducto || this.codigoDigitado || this.nombreDigitado \r\n          ? this.productosFiltrados \r\n          : this.todosLosProductos;\r\n  \r\n        const worksheetData = [\r\n          [\"Consulta de Inventario de Productos\"],\r\n          [\"Código\", \"Nombre\", \"Total\", ...this.bodegasMostradas],\r\n          ...dataToExport.map(producto => [\r\n            producto.codigo,\r\n            producto.nombre,\r\n            producto.cantidad_total,\r\n            ...this.bodegasMostradas.map(bodega => producto.cantidades_por_bodega[bodega] || 0),\r\n          ]),\r\n        ];\r\n  \r\n        const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, \"Inventario\");\r\n        XLSX.writeFile(workbook, `inventario_${new Date().toISOString().slice(0,10)}.xlsx`);\r\n      },\r\n    },\r\n    mounted() {\r\n      this.cargarProductosDisponibles();\r\n    },\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .consulta-inventario {\r\n    padding: 20px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  \r\n  h1 {\r\n    font-size: 2rem;\r\n    color: #2c3e50;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  h2 {\r\n    font-size: 1.5rem;\r\n    color: #34495e;\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  button,\r\n  .btn {\r\n    padding: 8px 16px;\r\n    background-color: #42b983;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    transition: background-color 0.2s ease;\r\n  }\r\n  \r\n  button:hover,\r\n  .btn:hover {\r\n    background-color: #2c3e50;\r\n  }\r\n  \r\n  button:disabled {\r\n    background-color: #cccccc;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  .btn-warning {\r\n    background-color: #ffc107;\r\n    color: #333;\r\n  }\r\n  \r\n  .btn-warning:hover {\r\n    background-color: #e0a800;\r\n  }\r\n  \r\n  .form-section {\r\n    background: #ffffff;\r\n    border-radius: 12px;\r\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n    padding: 20px;\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  .form-group {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  .form-group label {\r\n    display: block;\r\n    font-weight: bold;\r\n    margin-bottom: 5px;\r\n    color: #555;\r\n  }\r\n  \r\n  .form-group input,\r\n  .form-group select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .form-actions {\r\n    display: flex;\r\n    gap: 15px;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .table-container {\r\n    max-width: 100%;\r\n    overflow-x: auto;\r\n  }\r\n  \r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  th,\r\n  td {\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    text-align: left;\r\n  }\r\n  \r\n  th {\r\n    background-color: #f2f2f2;\r\n    font-weight: bold;\r\n    color: #34495e;\r\n  }\r\n  \r\n  tbody tr:nth-child(odd) {\r\n    background-color: #f9f9f9;\r\n  }\r\n  \r\n  tbody tr:hover {\r\n    background-color: #f1f1f1;\r\n  }\r\n  \r\n  .excel-icon {\r\n    margin-left: 5px;\r\n  }\r\n  \r\n  .paginacion {\r\n    margin-top: 20px;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .paginacion button {\r\n    padding: 8px 16px;\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    .form-group input,\r\n    .form-group select {\r\n      font-size: 16px;\r\n    }\r\n  \r\n    table {\r\n      display: block;\r\n      overflow-x: auto;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n  </style>","import { render } from \"./ConsultaInventario_Lite.vue?vue&type=template&id=10484070&scoped=true\"\nimport script from \"./ConsultaInventario_Lite.vue?vue&type=script&lang=js\"\nexport * from \"./ConsultaInventario_Lite.vue?vue&type=script&lang=js\"\n\nimport \"./ConsultaInventario_Lite.vue?vue&type=style&index=0&id=10484070&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10484070\"]])\n\nexport default __exports__"],"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","limpiarPagina","_hoisted_4","for","type","id","$event","$data","nombreDigitado","placeholder","onInput","sincronizarPorNombre","_hoisted_5","codigoDigitado","sincronizarCodigoConSelector","_hoisted_6","filtroProducto","onChange","sincronizarSelectorConCodigo","value","_Fragment","_renderList","productosDisponibles","producto","codigo","_toDisplayString","nombre","_hoisted_7","_hoisted_8","consultar","mostrarInventario","_hoisted_9","_hoisted_10","filtroBodega","filtrarPorBodega","bodegas","bodega","_hoisted_11","_createCommentVNode","_hoisted_12","_hoisted_13","productosFiltrados","length","exportarAExcel","_createTextVNode","_createVNode","_component_font_awesome_icon","icon","_hoisted_14","bodegasMostradas","cantidad_total","cantidades_por_bodega","_hoisted_15","disabled","paginaActual","cambiarPagina","_hoisted_16","productos","limite","_hoisted_17","name","data","todosLosProductos","methods","this","consultarProductoEspecifico","consultarTodosLosProductos","url","encodeURIComponent","response","apiClient","get","error","alert","message","bodegasResponse","todasLasBodegas","map","b","inventario","reduce","total","item","cantidad","acc","find","i","console","status","$router","push","offset","fullResponse","cargarProductosDisponibles","sort","a","localeCompare","nuevaPagina","productoEncontrado","p","toLowerCase","includes","productoSeleccionado","volverAlMenu","dataToExport","worksheetData","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","Date","toISOString","slice","mounted","__exports__","render"],"sourceRoot":""}