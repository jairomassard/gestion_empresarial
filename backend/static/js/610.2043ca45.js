"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[610],{8610:function(a,e,r){r.r(e),r.d(e,{default:function(){return f}});var o=r(6768),n=r(4232),l=r(5130);const t={class:"gestion-bodegas"},c={class:"form-section"},i={class:"form-group"},s={class:"form-actions"},d={key:0,type:"submit"},u={class:"consulta-bodegas"},m={class:"table-container"},b=["onClick"],k=["onClick"];function g(a,e,r,g,v,L){return(0,o.uX)(),(0,o.CE)("div",t,[e[7]||(e[7]=(0,o.Lk)("h1",null,"Gestión de Almacenes",-1)),(0,o.Lk)("section",c,[(0,o.Lk)("h2",null,(0,n.v_)(g.modoEdicion?"Editar Almacén":"Crear Almacén"),1),(0,o.Lk)("form",{onSubmit:e[2]||(e[2]=(0,l.D$)((a=>g.modoEdicion?g.actualizarBodega():g.crearBodega()),["prevent"]))},[(0,o.Lk)("div",i,[e[3]||(e[3]=(0,o.Lk)("label",{for:"nombre"},"Nombre del Almacén:",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>g.bodega.nombre=a),id:"nombre",required:""},null,512),[[l.Jo,g.bodega.nombre]])]),(0,o.Lk)("div",s,[g.modoEdicion?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e[4]||(e[4]=(0,o.Lk)("button",{type:"submit"},"Guardar Almacén",-1)),(0,o.Lk)("button",{type:"button",onClick:e[1]||(e[1]=(...a)=>g.cancelarEdicion&&g.cancelarEdicion(...a))},"Cancelar")],64)):((0,o.uX)(),(0,o.CE)("button",d,"Crear Almacén"))])],32)]),(0,o.Lk)("section",u,[e[6]||(e[6]=(0,o.Lk)("h2",null,"Almacenes Creados",-1)),(0,o.Lk)("div",m,[(0,o.Lk)("table",null,[e[5]||(e[5]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"Nombre"),(0,o.Lk)("th",null,"Acciones")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.bodegas,(a=>((0,o.uX)(),(0,o.CE)("tr",{key:a.id},[(0,o.Lk)("td",null,(0,n.v_)(a.id),1),(0,o.Lk)("td",null,(0,n.v_)(a.nombre),1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{onClick:e=>g.editarBodega(a)},"Editar",8,b),(0,o.Lk)("button",{onClick:e=>g.eliminarBodega(a.id)},"Eliminar",8,k)])])))),128))])])])])])}r(4114);var v=r(144),L=r(782),p=r(1387),E=r(7682),y={name:"BodegasForm",setup(){(0,L.Pj)();const a=(0,p.rd)(),e=(0,v.KR)({id:null,nombre:""}),r=(0,v.KR)([]),o=(0,v.KR)(!1),n=async()=>{try{await E.A.post("/inventory/bodegas",e.value),alert("Almacén creado correctamente"),l(),d()}catch(a){console.error("Error al crear almacén:",a),alert(a.response?.data?.error||"Error al crear almacén")}},l=async()=>{try{const a=await E.A.get("/inventory/bodegas");r.value=a.data.sort(((a,e)=>a.nombre.localeCompare(e.nombre)))}catch(a){console.error("Error al cargar almacenes:",a),403===a.response?.status?alert("No tienes permiso para ver los almacenes."):alert("Ocurrió un error al cargar los almacenes.")}},t=a=>{o.value=!0,e.value={...a}},c=async()=>{try{await E.A.put(`/inventory/bodegas/${e.value.id}`,e.value),alert("Almacén actualizado correctamente"),l(),s()}catch(a){console.error("Error al actualizar almacén:",a),alert(a.response?.data?.error||"Error al actualizar almacén")}},i=async a=>{if(confirm("¿Estás seguro de que deseas eliminar este almacén?"))try{await E.A.delete(`/inventory/bodegas/${a}`),alert("Almacén eliminado correctamente"),l()}catch(e){console.error("Error al eliminar almacén:",e),alert(e.response?.data?.error||"Error al eliminar almacén")}},s=()=>{o.value=!1,d()},d=()=>{e.value={id:null,nombre:""}},u=()=>{a.push("/inventory")};return l(),{bodega:e,bodegas:r,modoEdicion:o,crearBodega:n,cargarBodegas:l,editarBodega:t,actualizarBodega:c,eliminarBodega:i,cancelarEdicion:s,resetearFormulario:d,volverAlMenu:u}}},A=r(1241);const C=(0,A.A)(y,[["render",g],["__scopeId","data-v-232f1056"]]);var f=C}}]);
//# sourceMappingURL=610.2043ca45.js.map