{"version":3,"file":"js/706.b7d9a9f6.js","mappings":"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","sources":["webpack://frontend/./src/views/CargarVentasManual.vue","webpack://frontend/./src/views/CargarVentasManual.vue?3289"],"sourcesContent":["<template>\r\n  <div class=\"cargar-ventas\">\r\n    <h1>Cargar Ventas Manualmente</h1>\r\n\r\n    <section class=\"menu-buttons\">\r\n      <button @click=\"limpiarPagina\" class=\"btn btn-warning\">Limpiar Página</button>\r\n    </section>\r\n\r\n    <!-- Mensaje de sincronización -->\r\n    <section v-if=\"isSyncActive\" class=\"form-section sync-warning\">\r\n      <h2>Advertencia</h2>\r\n      <p>El cargue de ventas se debe hacer por la página de <strong>Cargar Ventas Diarias</strong> del módulo de Análisis debido a la sincronización activa parametrizada entre los módulos de Analisis e Inventarios.</p>\r\n    </section>\r\n\r\n    <!-- Subida de Archivo CSV -->\r\n    <section class=\"form-section\" v-if=\"!isSyncActive\">\r\n      <h2>Subir Archivo CSV</h2>\r\n      <div class=\"form-group\">\r\n        <label for=\"inputCsv\">Archivo CSV:</label>\r\n        <input id=\"inputCsv\" type=\"file\" accept=\".csv\" @change=\"cargarCsv\" ref=\"inputCsv\" />\r\n      </div>\r\n      <button @click=\"procesarCsv\" :disabled=\"isProcessing\">Cargar Ventas</button>\r\n    </section>\r\n\r\n    <!-- Mostrar errores -->\r\n    <section v-if=\"errores.length\" class=\"form-section\">\r\n      <h2>Errores Detectados:</h2>\r\n      <ul>\r\n        <li v-for=\"(error, index) in errores\" :key=\"index\">{{ error }}</li>\r\n      </ul>\r\n    </section>\r\n\r\n    <!-- Descarga de Plantilla -->\r\n    <section class=\"form-section\">\r\n      <h2>Descargar Plantilla</h2>\r\n      <button @click=\"descargarPlantilla\">Descargar</button>\r\n    </section>\r\n\r\n    <!-- Consulta de Facturas de Venta -->\r\n    <section class=\"consulta-ventas form-section\">\r\n      <h2>Consulta de Facturas de Venta</h2>\r\n      <div class=\"form-group\">\r\n        <label for=\"filtroFactura\">Número de Factura:</label>\r\n        <input v-model=\"filtroFactura\" id=\"filtroFactura\" placeholder=\"Ingrese número de factura\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"fechaInicio\">Fecha Inicio:</label>\r\n        <input type=\"date\" v-model=\"fechaInicio\" id=\"fechaInicio\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"fechaFin\">Fecha Fin:</label>\r\n        <input type=\"date\" v-model=\"fechaFin\" id=\"fechaFin\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"filtroBodega\">Bodega de Venta:</label>\r\n        <select v-model=\"filtroBodega\" id=\"filtroBodega\">\r\n          <option value=\"\" disabled>Seleccione una bodega</option>\r\n          <option v-for=\"bodega in bodegas\" :key=\"bodega.id\" :value=\"bodega.id\">{{ bodega.nombre }}</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"selectorFactura\">Seleccionar Factura:</label>\r\n        <select v-model=\"filtroFactura\" id=\"selectorFactura\">\r\n          <option value=\"\" disabled>Seleccione una factura</option>\r\n          <option v-for=\"factura in facturas\" :key=\"factura\" :value=\"factura\">{{ factura }}</option>\r\n        </select>\r\n      </div>\r\n      <button @click=\"consultarVentas\">Consultar Facturas</button>\r\n    </section>\r\n\r\n    <!-- Resultados de la Consulta -->\r\n    <section v-if=\"resultadosVentas.length\" class=\"resultados-ventas form-section\">\r\n      <h3>Resultados de la Consulta</h3>\r\n      <div class=\"form-actions\">\r\n        <button @click=\"exportarListadoExcel\">Exportar Listado <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" /></button>\r\n      </div>\r\n      <div class=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Número de Factura</th>\r\n              <th>Fecha y Hora</th>\r\n              <th>Acción</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"venta in resultadosVentas\" :key=\"venta.factura\">\r\n              <td>{{ venta.factura }}</td>\r\n              <td>{{ venta.fecha }}</td>\r\n              <td>\r\n                <button @click=\"verDetalleVenta(venta.factura)\" class=\"btn btn-info\">Detalle</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- Detalle de la Factura de Venta -->\r\n    <section v-if=\"detalleVenta.length\" class=\"detalle-venta form-section\">\r\n      <h3>Detalle de la Factura de Venta {{ facturaSeleccionada }}</h3>\r\n      <div class=\"form-actions\">\r\n        <button @click=\"exportarDetalleExcel\">Exportar <font-awesome-icon icon=\"file-excel\" class=\"excel-icon\" /></button>\r\n      </div>\r\n      <div class=\"table-container\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Código</th>\r\n              <th>Nombre</th>\r\n              <th>Cantidad</th>\r\n              <th>Bodega de Venta</th>\r\n              <th>Precio Unitario</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in detalleVenta\" :key=\"item.id\">\r\n              <td>{{ item.codigo }}</td>\r\n              <td>{{ item.nombre }}</td>\r\n              <td>{{ item.cantidad }}</td>\r\n              <td>{{ item.bodega }}</td>\r\n              <td>{{ item.precio_unitario !== null ? `$${item.precio_unitario.toFixed(2)}` : 'N/A' }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from '@/api/axios';\r\nimport * as XLSX from 'xlsx';\r\n\r\nexport default {\r\n  name: 'CargarVentasManual',\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const archivoCsv = ref(null);\r\n    const inputCsv = ref(null);\r\n    const errores = ref([]);\r\n    const filtroFactura = ref('');\r\n    const fechaInicio = ref('');\r\n    const fechaFin = ref('');\r\n    const filtroBodega = ref('');\r\n    const facturas = ref([]);\r\n    const bodegas = ref([]);\r\n    const resultadosVentas = ref([]);\r\n    const detalleVenta = ref([]);\r\n    const facturaSeleccionada = ref('');\r\n    const isProcessing = ref(false);\r\n    const isSyncActive = ref(false);\r\n\r\n    const verificarSincronizacion = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/verificar-sincronizacion');\r\n        isSyncActive.value = response.data.sync_analisis_inventario;\r\n      } catch (error) {\r\n        console.error('Error al verificar sincronización:', error);\r\n        errores.value = ['No se pudo verificar la sincronización con el módulo de Análisis.'];\r\n      }\r\n    };\r\n\r\n    const cargarCsv = (event) => {\r\n      archivoCsv.value = event.target.files[0];\r\n      errores.value = [];\r\n    };\r\n\r\n    const procesarCsv = async () => {\r\n      if (!archivoCsv.value) {\r\n        errores.value = ['Seleccione un archivo CSV para cargar'];\r\n        return;\r\n      }\r\n\r\n      isProcessing.value = true;\r\n      const formData = new FormData();\r\n      formData.append('file', archivoCsv.value);\r\n\r\n      try {\r\n        const response = await axios.post('/inventory/ventas', formData);\r\n        errores.value = [];\r\n        alert(response.data.message);\r\n        cargarFacturas();\r\n        limpiarSesionCsv();\r\n      } catch (error) {\r\n        console.error('Error al cargar ventas:', error);\r\n        if (error.response?.data?.errors) {\r\n          errores.value = error.response.data.errors;\r\n        } else {\r\n          errores.value = [error.response?.data?.message || 'Ocurrió un error al cargar las ventas.'];\r\n        }\r\n        if (error.response?.status === 401) {\r\n          router.push('/login');\r\n        }\r\n      } finally {\r\n        isProcessing.value = false;\r\n      }\r\n    };\r\n\r\n    const descargarPlantilla = () => {\r\n      const csvData = [\r\n        ['factura', 'codigo', 'nombre', 'cantidad', 'fecha_venta', 'bodega', 'precio_unitario'],\r\n        ['FB1234567', 'PROD001', 'ARROZ ESPECIAL PERSONAL', '10', '2025-04-28 10:00:00', 'Almacen principal', '5000.00'],\r\n        ['CC8901234', 'PROD002', 'PASTA ESPECIAL PERSONAL', '5', '2025-04-28 11:30:00', 'Bodega Norte', ''],\r\n      ];\r\n      const csvContent = csvData.map(e => e.join(',')).join('\\n');\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.setAttribute('download', 'plantilla_cargue_ventas.csv');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    };\r\n\r\n    const limpiarSesionCsv = () => {\r\n      archivoCsv.value = null;\r\n      if (inputCsv.value) inputCsv.value.value = '';\r\n    };\r\n\r\n    const limpiarPagina = () => {\r\n      limpiarSesionCsv();\r\n      errores.value = [];\r\n      filtroFactura.value = '';\r\n      fechaInicio.value = '';\r\n      fechaFin.value = '';\r\n      filtroBodega.value = '';\r\n      resultadosVentas.value = [];\r\n      detalleVenta.value = [];\r\n      facturaSeleccionada.value = '';\r\n    };\r\n\r\n    const cargarFacturas = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/ventas-facturas');\r\n        facturas.value = response.data.facturas;\r\n      } catch (error) {\r\n        console.error('Error al cargar facturas:', error);\r\n        alert('Ocurrió un error al cargar las facturas.');\r\n      }\r\n    };\r\n\r\n    const cargarBodegas = async () => {\r\n      try {\r\n        const response = await axios.get('/inventory/bodegas');\r\n        bodegas.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error al cargar bodegas:', error);\r\n        alert('Ocurrió un error al cargar las bodegas.');\r\n      }\r\n    };\r\n\r\n    const consultarVentas = async () => {\r\n      try {\r\n        const params = {\r\n          factura: filtroFactura.value || undefined,\r\n          fecha_inicio: fechaInicio.value || undefined,\r\n          fecha_fin: fechaFin.value || undefined,\r\n          bodega_id: filtroBodega.value || undefined,\r\n        };\r\n        const response = await axios.get('/inventory/consultar-ventas', { params });\r\n        resultadosVentas.value = response.data;\r\n        detalleVenta.value = [];\r\n      } catch (error) {\r\n        console.error('Error al consultar facturas de venta:', error);\r\n        alert('Ocurrió un error al consultar las facturas.');\r\n      }\r\n    };\r\n\r\n    const verDetalleVenta = async (factura) => {\r\n      try {\r\n        facturaSeleccionada.value = factura;\r\n        const response = await axios.get('/inventory/detalle-venta', {\r\n          params: { factura }\r\n        });\r\n        detalleVenta.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error al obtener detalle de la factura:', error);\r\n        alert('No se pudo recuperar el detalle de la factura.');\r\n      }\r\n    };\r\n\r\n    const exportarListadoExcel = () => {\r\n      if (!resultadosVentas.value.length) {\r\n        alert('No hay datos para exportar a Excel.');\r\n        return;\r\n      }\r\n\r\n      const bodegaNombre = bodegas.value.find(b => b.id === filtroBodega.value)?.nombre || 'Todas';\r\n\r\n      const worksheetData = [\r\n        ['Resultado de consulta de Facturas de Ventas Cargadas'],\r\n        [`Número de Factura: ${filtroFactura.value || 'Todos'}`],\r\n        [`Fecha Inicio: ${fechaInicio.value || 'No especificada'}`],\r\n        [`Fecha Fin: ${fechaFin.value || 'No especificada'}`],\r\n        [`Bodega: ${bodegaNombre}`],\r\n        [],\r\n        ['Número de Factura', 'Fecha y Hora'],\r\n        ...resultadosVentas.value.map(venta => [venta.factura, venta.fecha])\r\n      ];\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Facturas');\r\n      XLSX.writeFile(workbook, `facturas_ventas_${new Date().toISOString().slice(0, 10)}.xlsx`);\r\n    };\r\n\r\n    const exportarDetalleExcel = () => {\r\n      if (!detalleVenta.value.length) {\r\n        alert('No hay datos para exportar a Excel.');\r\n        return;\r\n      }\r\n\r\n      const fechaCargue = resultadosVentas.value.find(v => v.factura === facturaSeleccionada.value)?.fecha || 'Desconocida';\r\n\r\n      const worksheetData = [\r\n        [`Detalle Factura ${facturaSeleccionada.value}`],\r\n        [`Fecha de Cargue: ${fechaCargue}`],\r\n        [],\r\n        ['Código', 'Nombre', 'Cantidad', 'Bodega de Venta', 'Precio Unitario'],\r\n        ...detalleVenta.value.map(item => [\r\n          item.codigo,\r\n          item.nombre,\r\n          item.cantidad,\r\n          item.bodega,\r\n          item.precio_unitario !== null ? item.precio_unitario.toFixed(2) : 'N/A'\r\n        ])\r\n      ];\r\n\r\n      const worksheet = XLSX.utils.aoa_to_sheet(worksheetData);\r\n      const workbook = XLSX.utils.book_new();\r\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'Detalle Factura');\r\n      XLSX.writeFile(workbook, `detalle_factura_${facturaSeleccionada.value}.xlsx`);\r\n    };\r\n\r\n    onMounted(async () => {\r\n      await verificarSincronizacion();\r\n      if (!isSyncActive.value) {\r\n        cargarFacturas();\r\n        cargarBodegas();\r\n      }\r\n    });\r\n\r\n    return {\r\n      archivoCsv,\r\n      inputCsv,\r\n      errores,\r\n      filtroFactura,\r\n      fechaInicio,\r\n      fechaFin,\r\n      filtroBodega,\r\n      facturas,\r\n      bodegas,\r\n      resultadosVentas,\r\n      detalleVenta,\r\n      facturaSeleccionada,\r\n      isProcessing,\r\n      isSyncActive,\r\n      cargarCsv,\r\n      procesarCsv,\r\n      descargarPlantilla,\r\n      limpiarPagina,\r\n      cargarFacturas,\r\n      cargarBodegas,\r\n      consultarVentas,\r\n      verDetalleVenta,\r\n      exportarListadoExcel,\r\n      exportarDetalleExcel\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cargar-ventas {\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  font-size: 2rem;\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.5rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.2rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\np {\r\n  font-size: 1rem;\r\n  color: #34495e;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.sync-warning {\r\n  background: #fff3cd;\r\n  border: 1px solid #ffeeba;\r\n  color: #856404;\r\n}\r\n\r\n.menu-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  justify-content: flex-end;\r\n}\r\n\r\nbutton, .btn {\r\n  padding: 8px 16px;\r\n  background-color: #42b983;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\nbutton:hover:not(:disabled), .btn:hover {\r\n  background-color: #2c3e50;\r\n}\r\n\r\n.btn-warning {\r\n  background-color: #ffc107;\r\n  color: #333;\r\n}\r\n\r\n.btn-warning:hover {\r\n  background-color: #e0a800;\r\n}\r\n\r\n.btn-info {\r\n  background-color: #17a2b8;\r\n}\r\n\r\n.btn-info:hover {\r\n  background-color: #138496;\r\n}\r\n\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n  color: #555;\r\n}\r\n\r\n.form-group input, .form-group select {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-container {\r\n  max-width: 100%;\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 14px;\r\n}\r\n\r\nth, td {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  text-align: left;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n  font-weight: bold;\r\n  color: #34495e;\r\n}\r\n\r\ntbody tr:nth-child(odd) {\r\n  background-color: #f9f9f9;\r\n}\r\n\r\ntbody tr:hover {\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.excel-icon {\r\n  margin-left: 5px;\r\n}\r\n\r\nul {\r\n  margin-top: 10px;\r\n  padding-left: 20px;\r\n}\r\n\r\nli {\r\n  color: #e74c3c;\r\n  font-size: 14px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .menu-buttons {\r\n    flex-direction: column;\r\n    align-items: flex-end;\r\n  }\r\n\r\n  .form-group input, .form-group select {\r\n    font-size: 16px;\r\n  }\r\n\r\n  table {\r\n    display: block;\r\n    overflow-x: auto;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>","import { render } from \"./CargarVentasManual.vue?vue&type=template&id=6e0db534&scoped=true\"\nimport script from \"./CargarVentasManual.vue?vue&type=script&lang=js\"\nexport * from \"./CargarVentasManual.vue?vue&type=script&lang=js\"\n\nimport \"./CargarVentasManual.vue?vue&type=style&index=0&id=6e0db534&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e0db534\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$setup","limpiarPagina","isSyncActive","_hoisted_3","_createTextVNode","_createCommentVNode","_hoisted_4","_hoisted_5","for","id","type","accept","onChange","cargarCsv","ref","procesarCsv","disabled","isProcessing","_hoisted_6","errores","length","_hoisted_7","_Fragment","_renderList","error","index","_toDisplayString","_hoisted_8","descargarPlantilla","_hoisted_9","_hoisted_10","$event","filtroFactura","placeholder","_hoisted_11","fechaInicio","_hoisted_12","fechaFin","_hoisted_13","filtroBodega","value","bodegas","bodega","nombre","_hoisted_14","_hoisted_15","facturas","factura","_hoisted_16","consultarVentas","resultadosVentas","_hoisted_17","_hoisted_18","exportarListadoExcel","_createVNode","_component_font_awesome_icon","icon","_hoisted_19","venta","fecha","verDetalleVenta","_hoisted_20","detalleVenta","_hoisted_21","facturaSeleccionada","_hoisted_22","exportarDetalleExcel","_hoisted_23","item","codigo","cantidad","precio_unitario","toFixed","name","setup","router","useRouter","archivoCsv","inputCsv","verificarSincronizacion","async","response","axios","get","data","sync_analisis_inventario","console","event","target","files","formData","FormData","append","post","alert","message","cargarFacturas","limpiarSesionCsv","errors","status","push","csvData","csvContent","map","e","join","blob","Blob","link","document","createElement","href","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","cargarBodegas","params","undefined","fecha_inicio","fecha_fin","bodega_id","bodegaNombre","find","b","worksheetData","worksheet","XLSX","aoa_to_sheet","workbook","book_new","book_append_sheet","Date","toISOString","slice","fechaCargue","v","onMounted","__exports__","render"],"sourceRoot":""}